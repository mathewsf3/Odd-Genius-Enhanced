{"ast":null,"code":"import React,{useState}from'react';import{Box,Flex,Text,Heading,SimpleGrid,VStack,HStack,Progress,Badge,Table,Thead,Tbody,Tr,Th,Td,Icon,Spinner,Center,Button,Tabs,TabList,Tab,useColorModeValue,CircularProgress,CircularProgressLabel,Tooltip,Stat,StatLabel,StatNumber,StatHelpText}from'@chakra-ui/react';import{FiAlertCircle,FiRefreshCw,FiActivity,FiCheck}from'react-icons/fi';import{BsGraphUp,BsShieldCheck}from'react-icons/bs';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CustomBTTSTab=_ref=>{let{match,data,isLoading,initialGameCount=\"10\",onRefresh}=_ref;const[gameCount,setGameCount]=useState(initialGameCount);const[isRefreshing,setIsRefreshing]=useState(false);// Enhanced debug console logs\nconsole.log(\"CustomBTTSTab rendered with data:\",data,\"gameCount:\",gameCount);// Handle refresh button click\nconst handleRefresh=async()=>{if(onRefresh){setIsRefreshing(true);try{await onRefresh(parseInt(gameCount));}catch(error){console.error(\"Error refreshing BTTS stats:\",error);}finally{setIsRefreshing(false);}}};// Color mode values\nconst bgColor=useColorModeValue('gray.50','gray.900');const cardBg=useColorModeValue('white','gray.800');const borderColor=useColorModeValue('gray.200','gray.700');const accentGreen=useColorModeValue('green.500','green.300');// Helper functions\nconst getConfidenceColor=confidence=>{switch(confidence){case\"Low\":return\"yellow\";case\"Medium\":return\"orange\";case\"High\":return\"green\";case\"Very High\":return\"teal\";default:return\"gray\";}};const getBTTSPredictionColor=prediction=>{switch(prediction){case\"Yes\":return\"green\";case\"No\":return\"red\";default:return\"gray\";}};const getPredictionExplanation=(probability,prediction)=>{if(prediction==='Yes'){return`${probability}% chance of both teams scoring`;}else if(prediction==='No'){return`${100-probability}% chance of at least one team not scoring`;}else{// For the PUSH case (45-55% probability range)\nreturn`Even probability (${probability}% BTTS) - too close to call`;}};// If loading or no data, show loading spinner\nif(isLoading||isRefreshing){return/*#__PURE__*/_jsx(Center,{p:8,children:/*#__PURE__*/_jsxs(VStack,{spacing:4,children:[/*#__PURE__*/_jsx(Spinner,{size:\"xl\",color:\"blue.500\",thickness:\"4px\",speed:\"0.8s\"}),/*#__PURE__*/_jsx(Text,{color:\"gray.500\",fontWeight:\"medium\",children:isRefreshing?\"Refreshing BTTS statistics...\":\"Loading BTTS statistics...\"})]})});}// If no data, show error message\nif(!data){return/*#__PURE__*/_jsx(Box,{p:4,bg:bgColor,borderRadius:\"md\",borderWidth:\"1px\",borderColor:borderColor,children:/*#__PURE__*/_jsxs(VStack,{spacing:4,align:\"center\",py:8,children:[/*#__PURE__*/_jsx(Icon,{as:FiAlertCircle,boxSize:\"48px\",color:\"gray.400\"}),/*#__PURE__*/_jsx(Heading,{size:\"md\",children:\"No BTTS Statistics Available\"}),/*#__PURE__*/_jsxs(Text,{align:\"center\",color:\"gray.500\",children:[\"We were unable to retrieve BTTS statistics for this match.\",/*#__PURE__*/_jsx(\"br\",{}),\"This could be because the API data is currently unavailable.\"]}),onRefresh&&/*#__PURE__*/_jsx(Button,{leftIcon:/*#__PURE__*/_jsx(FiRefreshCw,{}),colorScheme:\"blue\",size:\"md\",onClick:()=>handleRefresh(),isLoading:isRefreshing,mt:4,children:\"Retry\"})]})});}// Extract data for easier access\nconst{homeStats,awayStats,h2hStats,combinedStats}=data;// Render the BTTS statistics overview\nreturn/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Box,{bg:cardBg,p:4,borderRadius:\"md\",boxShadow:\"sm\",mb:6,position:\"relative\",children:[/*#__PURE__*/_jsxs(Flex,{justify:\"space-between\",align:\"center\",mb:4,children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",children:\"BTTS Analysis Range\"}),/*#__PURE__*/_jsx(Badge,{colorScheme:\"green\",variant:\"solid\",px:2,py:1,children:\"Using Real API Data\"})]}),/*#__PURE__*/_jsxs(Flex,{justify:\"space-between\",align:\"center\",mb:4,children:[/*#__PURE__*/_jsxs(HStack,{children:[/*#__PURE__*/_jsxs(Text,{children:[\"Showing last \",gameCount,\" matches\"]}),/*#__PURE__*/_jsx(Tooltip,{label:`Actual matches shown: ${Math.min(homeStats.recentForm.length,parseInt(gameCount))}`,children:/*#__PURE__*/_jsxs(Badge,{colorScheme:\"orange\",children:[Math.min(homeStats.recentForm.length,parseInt(gameCount)),\" visible\"]})})]}),/*#__PURE__*/_jsxs(HStack,{spacing:2,children:[/*#__PURE__*/_jsx(Badge,{colorScheme:\"blue\",variant:\"outline\",children:\"Data Quality: High\"}),/*#__PURE__*/_jsx(Tooltip,{label:\"Data verified against official match records\",children:/*#__PURE__*/_jsx(Badge,{colorScheme:\"green\",variant:\"outline\",children:/*#__PURE__*/_jsxs(Flex,{align:\"center\",children:[/*#__PURE__*/_jsx(Icon,{as:FiCheck,mr:1}),\"Verified\"]})})})]})]}),/*#__PURE__*/_jsx(Tabs,{variant:\"soft-rounded\",colorScheme:\"green\",size:\"sm\",index:gameCount===\"5\"?0:1,onChange:index=>{const newCount=index===0?\"5\":\"10\";setGameCount(newCount);// Trigger data refresh event\nconst customEvent=new CustomEvent('gameCountChange',{detail:{gameCount:parseInt(newCount)},bubbles:true});document.dispatchEvent(customEvent);console.log(`Dispatched gameCountChange event with count: ${newCount}`);},children:/*#__PURE__*/_jsxs(TabList,{children:[/*#__PURE__*/_jsx(Tab,{fontWeight:\"medium\",_selected:{color:'white',bg:accentGreen},px:4,children:\"Last 5 Matches\"}),/*#__PURE__*/_jsx(Tab,{fontWeight:\"medium\",_selected:{color:'white',bg:accentGreen},px:4,children:\"Last 10 Matches\"})]})})]}),/*#__PURE__*/_jsxs(Box,{bg:cardBg,p:4,borderRadius:\"md\",boxShadow:\"sm\",mb:6,position:\"relative\",children:[/*#__PURE__*/_jsxs(Flex,{align:\"center\",mb:4,children:[/*#__PURE__*/_jsx(Icon,{as:BsGraphUp,color:accentGreen,mr:2,boxSize:\"24px\"}),/*#__PURE__*/_jsx(Heading,{size:\"md\",children:\"BTTS Prediction\"})]}),/*#__PURE__*/_jsxs(SimpleGrid,{columns:{base:1,md:3},spacing:4,children:[/*#__PURE__*/_jsxs(Box,{p:5,borderWidth:\"1px\",borderRadius:\"lg\",borderColor:borderColor,textAlign:\"center\",boxShadow:\"md\",position:\"relative\",overflow:\"hidden\",bg:useColorModeValue('white','gray.750'),children:[/*#__PURE__*/_jsx(Box,{position:\"absolute\",top:\"-20px\",right:\"-20px\",bg:combinedStats.prediction==='Yes'?\"green.50\":\"red.50\",w:\"100px\",h:\"100px\",borderRadius:\"full\",opacity:\"0.4\"}),/*#__PURE__*/_jsx(Heading,{size:\"md\",mb:4,children:\"BTTS Prediction\"}),/*#__PURE__*/_jsxs(Flex,{direction:\"column\",align:\"center\",justify:\"center\",children:[/*#__PURE__*/_jsx(CircularProgress,{value:combinedStats.bttsYesProbability,color:combinedStats.prediction==='Yes'?\"green.400\":\"red.400\",size:\"140px\",thickness:\"10px\",mb:4,trackColor:useColorModeValue('gray.100','gray.700'),capIsRound:true,children:/*#__PURE__*/_jsx(CircularProgressLabel,{children:/*#__PURE__*/_jsxs(VStack,{spacing:0,children:[/*#__PURE__*/_jsxs(Text,{fontSize:\"2xl\",fontWeight:\"bold\",lineHeight:\"1\",children:[combinedStats.bttsYesProbability,\"%\"]}),/*#__PURE__*/_jsx(Text,{fontSize:\"xs\",color:\"gray.500\",children:\"probability\"})]})})}),/*#__PURE__*/_jsx(Badge,{colorScheme:getBTTSPredictionColor(combinedStats.prediction),fontSize:\"md\",py:2,px:4,borderRadius:\"full\",boxShadow:\"sm\",mb:3,variant:\"solid\",children:combinedStats.prediction==='Yes'?'BTTS - YES':combinedStats.prediction==='No'?'BTTS - NO':'BTTS - PUSH'}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",mb:3,maxW:\"90%\",mx:\"auto\",children:getPredictionExplanation(combinedStats.bttsYesProbability,combinedStats.prediction)}),/*#__PURE__*/_jsxs(Badge,{colorScheme:getConfidenceColor(combinedStats.confidenceLevel),variant:\"subtle\",px:3,py:1,children:[combinedStats.confidenceLevel,\" Confidence\"]})]})]}),/*#__PURE__*/_jsxs(Box,{p:5,borderWidth:\"1px\",borderRadius:\"lg\",borderColor:borderColor,boxShadow:\"md\",position:\"relative\",overflow:\"hidden\",bg:useColorModeValue('white','gray.750'),children:[/*#__PURE__*/_jsx(Box,{position:\"absolute\",top:\"-20px\",left:\"-20px\",bg:\"green.50\",w:\"100px\",h:\"100px\",borderRadius:\"full\",opacity:\"0.4\"}),/*#__PURE__*/_jsxs(Heading,{size:\"sm\",mb:4,display:\"flex\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Icon,{as:BsGraphUp,color:\"green.500\",mr:2}),\"Team BTTS Rates\"]}),/*#__PURE__*/_jsxs(VStack,{spacing:4,align:\"stretch\",children:[/*#__PURE__*/_jsxs(Box,{p:3,borderRadius:\"md\",bg:useColorModeValue('gray.50','gray.700'),transition:\"all 0.2s\",_hover:{boxShadow:\"sm\"},children:[/*#__PURE__*/_jsxs(Flex,{justify:\"space-between\",mb:2,align:\"center\",children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"medium\",fontSize:\"md\",children:match.homeTeam.name}),/*#__PURE__*/_jsxs(Badge,{colorScheme:homeStats.bttsYesPercentage>50?\"green\":\"gray\",fontSize:\"md\",px:2,children:[homeStats.bttsYesPercentage,\"%\"]})]}),/*#__PURE__*/_jsx(Progress,{value:homeStats.bttsYesPercentage,colorScheme:\"green\",size:\"sm\",borderRadius:\"full\",hasStripe:homeStats.bttsYesPercentage>65,isAnimated:homeStats.bttsYesPercentage>65}),/*#__PURE__*/_jsxs(Flex,{justify:\"space-between\",fontSize:\"xs\",color:\"gray.500\",mt:2,children:[/*#__PURE__*/_jsx(HStack,{children:/*#__PURE__*/_jsxs(Badge,{colorScheme:\"blue\",variant:\"outline\",size:\"sm\",children:[\"Home: \",homeStats.homeBttsYesPercentage||0,\"%\"]})}),/*#__PURE__*/_jsx(HStack,{children:/*#__PURE__*/_jsxs(Badge,{variant:\"subtle\",size:\"sm\",children:[\"Overall: \",homeStats.bttsYesPercentage,\"%\"]})})]})]}),/*#__PURE__*/_jsxs(Box,{p:3,borderRadius:\"md\",bg:useColorModeValue('gray.50','gray.700'),transition:\"all 0.2s\",_hover:{boxShadow:\"sm\"},children:[/*#__PURE__*/_jsxs(Flex,{justify:\"space-between\",mb:2,align:\"center\",children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"medium\",fontSize:\"md\",children:match.awayTeam.name}),/*#__PURE__*/_jsxs(Badge,{colorScheme:awayStats.bttsYesPercentage>50?\"green\":\"gray\",fontSize:\"md\",px:2,children:[awayStats.bttsYesPercentage,\"%\"]})]}),/*#__PURE__*/_jsx(Progress,{value:awayStats.bttsYesPercentage,colorScheme:\"green\",size:\"sm\",borderRadius:\"full\",hasStripe:awayStats.bttsYesPercentage>65,isAnimated:awayStats.bttsYesPercentage>65}),/*#__PURE__*/_jsxs(Flex,{justify:\"space-between\",fontSize:\"xs\",color:\"gray.500\",mt:2,children:[/*#__PURE__*/_jsx(HStack,{children:/*#__PURE__*/_jsxs(Badge,{colorScheme:\"purple\",variant:\"outline\",size:\"sm\",children:[\"Away: \",awayStats.awayBttsYesPercentage||0,\"%\"]})}),/*#__PURE__*/_jsx(HStack,{children:/*#__PURE__*/_jsxs(Badge,{variant:\"subtle\",size:\"sm\",children:[\"Overall: \",awayStats.bttsYesPercentage,\"%\"]})})]})]}),h2hStats.totalMatches>0&&/*#__PURE__*/_jsxs(Box,{p:3,borderRadius:\"md\",bg:useColorModeValue('gray.50','gray.700'),borderLeft:\"4px solid\",borderLeftColor:\"orange.400\",transition:\"all 0.2s\",_hover:{boxShadow:\"sm\"},children:[/*#__PURE__*/_jsxs(Flex,{justify:\"space-between\",mb:2,align:\"center\",children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"medium\",fontSize:\"md\",children:\"Head-to-Head\"}),/*#__PURE__*/_jsxs(Badge,{colorScheme:h2hStats.bttsYesPercentage>50?\"green\":\"gray\",fontSize:\"md\",px:2,children:[h2hStats.bttsYesPercentage,\"%\"]})]}),/*#__PURE__*/_jsx(Progress,{value:h2hStats.bttsYesPercentage,colorScheme:\"orange\",size:\"sm\",borderRadius:\"full\",hasStripe:h2hStats.bttsYesPercentage>65,isAnimated:h2hStats.bttsYesPercentage>65}),/*#__PURE__*/_jsxs(Flex,{justify:\"space-between\",fontSize:\"xs\",color:\"gray.500\",mt:2,children:[/*#__PURE__*/_jsxs(Text,{fontWeight:\"medium\",children:[h2hStats.bttsYesCount,\" of \",h2hStats.totalMatches,\" matches\"]}),/*#__PURE__*/_jsxs(Text,{children:[Math.round(h2hStats.bttsYesCount/h2hStats.totalMatches*100),\"% BTTS rate\"]})]})]})]})]}),/*#__PURE__*/_jsxs(Box,{p:5,borderWidth:\"1px\",borderRadius:\"lg\",borderColor:borderColor,boxShadow:\"md\",position:\"relative\",overflow:\"hidden\",bg:useColorModeValue('white','gray.750'),children:[/*#__PURE__*/_jsx(Box,{position:\"absolute\",bottom:\"-20px\",right:\"-20px\",bg:\"blue.50\",w:\"100px\",h:\"100px\",borderRadius:\"full\",opacity:\"0.4\"}),/*#__PURE__*/_jsxs(Heading,{size:\"sm\",mb:4,display:\"flex\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Icon,{as:FiActivity,color:\"blue.500\",mr:2}),\"Average Goals\"]}),/*#__PURE__*/_jsxs(SimpleGrid,{columns:{base:1,sm:3},spacing:4,children:[/*#__PURE__*/_jsxs(Box,{p:3,borderRadius:\"md\",bg:useColorModeValue('blue.50','blue.900'),textAlign:\"center\",boxShadow:\"sm\",position:\"relative\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:\"gray.500\",mb:1,children:match.homeTeam.name}),/*#__PURE__*/_jsx(Tooltip,{label:`Based on ${homeStats.totalMatches} recent matches`,placement:\"top\",children:/*#__PURE__*/_jsx(Heading,{size:\"xl\",color:\"blue.500\",lineHeight:\"1\",cursor:\"help\",children:combinedStats.averageHomeTeamGoals.toFixed(1)})}),/*#__PURE__*/_jsx(Text,{fontSize:\"xs\",fontWeight:\"medium\",mt:1,children:\"goals per match\"})]}),/*#__PURE__*/_jsxs(Box,{p:3,borderRadius:\"md\",bg:useColorModeValue('blue.50','blue.900'),textAlign:\"center\",boxShadow:\"sm\",position:\"relative\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:\"gray.500\",mb:1,children:match.awayTeam.name}),/*#__PURE__*/_jsx(Tooltip,{label:`Based on ${awayStats.totalMatches} recent matches`,placement:\"top\",children:/*#__PURE__*/_jsx(Heading,{size:\"xl\",color:\"blue.500\",lineHeight:\"1\",cursor:\"help\",children:combinedStats.averageAwayTeamGoals.toFixed(1)})}),/*#__PURE__*/_jsx(Text,{fontSize:\"xs\",fontWeight:\"medium\",mt:1,children:\"goals per match\"})]}),/*#__PURE__*/_jsxs(Box,{p:3,borderRadius:\"md\",bg:useColorModeValue('green.50','green.900'),textAlign:\"center\",boxShadow:\"sm\",borderWidth:\"1px\",borderColor:useColorModeValue('green.100','green.700'),position:\"relative\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:\"gray.500\",mb:1,children:\"Combined\"}),/*#__PURE__*/_jsx(Heading,{size:\"xl\",color:\"green.500\",lineHeight:\"1\",children:combinedStats.averageTotalGoals.toFixed(1)}),/*#__PURE__*/_jsx(Text,{fontSize:\"xs\",fontWeight:\"medium\",mt:1,children:\"total goals per match\"}),/*#__PURE__*/_jsx(Badge,{colorScheme:combinedStats.averageTotalGoals>=2.5?\"green\":\"gray\",mt:2,children:combinedStats.averageTotalGoals>=2.5?\"High Scoring\":\"Low Scoring\"}),h2hStats.totalMatches>0?/*#__PURE__*/_jsx(Tooltip,{label:`Based on ${h2hStats.totalMatches} head-to-head matches with ${h2hStats.homeTeamGoals+h2hStats.awayTeamGoals} total goals`,placement:\"top\",children:/*#__PURE__*/_jsx(Badge,{position:\"absolute\",top:2,right:2,colorScheme:\"blue\",variant:\"outline\",size:\"sm\",children:\"H2H\"})}):/*#__PURE__*/_jsx(Tooltip,{label:\"Based on combined team averages\",placement:\"top\",children:/*#__PURE__*/_jsx(Badge,{position:\"absolute\",top:2,right:2,colorScheme:\"gray\",variant:\"outline\",size:\"sm\",children:\"AVG\"})})]})]})]})]})]}),/*#__PURE__*/_jsxs(Box,{bg:cardBg,p:5,borderRadius:\"md\",boxShadow:\"md\",mb:6,position:\"relative\",overflow:\"hidden\",children:[/*#__PURE__*/_jsx(Box,{position:\"absolute\",top:\"-30px\",right:\"-30px\",bg:useColorModeValue('green.50','green.900'),w:\"150px\",h:\"150px\",borderRadius:\"full\",opacity:\"0.3\",zIndex:\"0\"}),/*#__PURE__*/_jsxs(Flex,{align:\"center\",mb:5,position:\"relative\",zIndex:\"1\",children:[/*#__PURE__*/_jsx(Icon,{as:BsShieldCheck,color:accentGreen,mr:2,boxSize:\"24px\"}),/*#__PURE__*/_jsx(Heading,{size:\"md\",children:\"Clean Sheet & Failed to Score Analysis\"})]}),/*#__PURE__*/_jsxs(SimpleGrid,{columns:{base:1,md:2},spacing:8,children:[/*#__PURE__*/_jsxs(Box,{bg:useColorModeValue('white','gray.800'),p:4,borderRadius:\"lg\",boxShadow:\"sm\",borderLeft:\"4px solid\",borderLeftColor:\"green.400\",position:\"relative\",zIndex:\"1\",children:[/*#__PURE__*/_jsx(Heading,{size:\"sm\",mb:4,color:\"green.500\",children:\"Clean Sheet Probability\"}),/*#__PURE__*/_jsxs(SimpleGrid,{columns:2,spacing:4,mb:6,children:[/*#__PURE__*/_jsxs(Box,{p:3,borderRadius:\"md\",bg:useColorModeValue('green.50','green.900'),textAlign:\"center\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",mb:1,children:match.homeTeam.name}),/*#__PURE__*/_jsxs(Flex,{direction:\"column\",align:\"center\",children:[/*#__PURE__*/_jsx(CircularProgress,{value:homeStats.cleanSheetPercentage,color:\"green.400\",size:\"80px\",thickness:\"8px\",children:/*#__PURE__*/_jsxs(CircularProgressLabel,{fontWeight:\"bold\",children:[homeStats.cleanSheetPercentage,\"%\"]})}),/*#__PURE__*/_jsxs(Text,{fontSize:\"xs\",mt:1,children:[homeStats.cleanSheetCount,\" of \",homeStats.totalMatches,\" matches\"]})]})]}),/*#__PURE__*/_jsxs(Box,{p:3,borderRadius:\"md\",bg:useColorModeValue('green.50','green.900'),textAlign:\"center\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",mb:1,children:match.awayTeam.name}),/*#__PURE__*/_jsxs(Flex,{direction:\"column\",align:\"center\",children:[/*#__PURE__*/_jsx(CircularProgress,{value:awayStats.cleanSheetPercentage,color:\"green.400\",size:\"80px\",thickness:\"8px\",children:/*#__PURE__*/_jsxs(CircularProgressLabel,{fontWeight:\"bold\",children:[awayStats.cleanSheetPercentage,\"%\"]})}),/*#__PURE__*/_jsxs(Text,{fontSize:\"xs\",mt:1,children:[awayStats.cleanSheetCount,\" of \",awayStats.totalMatches,\" matches\"]})]})]})]}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Heading,{size:\"xs\",mb:2,color:\"gray.500\",children:\"Home/Away Clean Sheet Rates\"}),/*#__PURE__*/_jsxs(SimpleGrid,{columns:2,spacing:3,children:[/*#__PURE__*/_jsxs(Box,{p:2,borderRadius:\"md\",bg:useColorModeValue('gray.50','gray.700'),children:[/*#__PURE__*/_jsxs(Text,{fontSize:\"xs\",color:\"gray.500\",children:[match.homeTeam.name,\" (Home)\"]}),/*#__PURE__*/_jsxs(Flex,{justify:\"space-between\",align:\"center\",children:[/*#__PURE__*/_jsxs(Badge,{colorScheme:homeStats.homeCleanSheetPercentage&&homeStats.homeCleanSheetPercentage>50?\"green\":\"gray\",children:[homeStats.homeCleanSheetPercentage||0,\"%\"]}),/*#__PURE__*/_jsxs(Text,{fontSize:\"xs\",children:[\"vs \",homeStats.cleanSheetPercentage,\"% overall\"]})]})]}),/*#__PURE__*/_jsxs(Box,{p:2,borderRadius:\"md\",bg:useColorModeValue('gray.50','gray.700'),children:[/*#__PURE__*/_jsxs(Text,{fontSize:\"xs\",color:\"gray.500\",children:[match.awayTeam.name,\" (Away)\"]}),/*#__PURE__*/_jsxs(Flex,{justify:\"space-between\",align:\"center\",children:[/*#__PURE__*/_jsxs(Badge,{colorScheme:awayStats.awayCleanSheetPercentage&&awayStats.awayCleanSheetPercentage>50?\"green\":\"gray\",children:[awayStats.awayCleanSheetPercentage||0,\"%\"]}),/*#__PURE__*/_jsxs(Text,{fontSize:\"xs\",children:[\"vs \",awayStats.cleanSheetPercentage,\"% overall\"]})]})]})]})]})]}),/*#__PURE__*/_jsxs(Box,{bg:useColorModeValue('white','gray.800'),p:4,borderRadius:\"lg\",boxShadow:\"sm\",borderLeft:\"4px solid\",borderLeftColor:\"red.400\",position:\"relative\",zIndex:\"1\",children:[/*#__PURE__*/_jsx(Heading,{size:\"sm\",mb:4,color:\"red.500\",children:\"Failed to Score Probability\"}),/*#__PURE__*/_jsxs(SimpleGrid,{columns:2,spacing:4,mb:6,children:[/*#__PURE__*/_jsxs(Box,{p:3,borderRadius:\"md\",bg:useColorModeValue('red.50','red.900'),textAlign:\"center\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",mb:1,children:match.homeTeam.name}),/*#__PURE__*/_jsxs(Flex,{direction:\"column\",align:\"center\",children:[/*#__PURE__*/_jsx(CircularProgress,{value:homeStats.failedToScorePercentage,color:homeStats.failedToScorePercentage<30?\"green.400\":\"red.400\",size:\"80px\",thickness:\"8px\",children:/*#__PURE__*/_jsxs(CircularProgressLabel,{fontWeight:\"bold\",children:[homeStats.failedToScorePercentage,\"%\"]})}),/*#__PURE__*/_jsxs(Text,{fontSize:\"xs\",mt:1,children:[homeStats.failedToScoreCount,\" of \",homeStats.totalMatches,\" matches\"]})]})]}),/*#__PURE__*/_jsxs(Box,{p:3,borderRadius:\"md\",bg:useColorModeValue('red.50','red.900'),textAlign:\"center\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",mb:1,children:match.awayTeam.name}),/*#__PURE__*/_jsxs(Flex,{direction:\"column\",align:\"center\",children:[/*#__PURE__*/_jsx(CircularProgress,{value:awayStats.failedToScorePercentage,color:awayStats.failedToScorePercentage<30?\"green.400\":\"red.400\",size:\"80px\",thickness:\"8px\",children:/*#__PURE__*/_jsxs(CircularProgressLabel,{fontWeight:\"bold\",children:[awayStats.failedToScorePercentage,\"%\"]})}),/*#__PURE__*/_jsxs(Text,{fontSize:\"xs\",mt:1,children:[awayStats.failedToScoreCount,\" of \",awayStats.totalMatches,\" matches\"]})]})]})]}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Heading,{size:\"xs\",mb:2,color:\"gray.500\",children:\"Home/Away Failed to Score Rates\"}),/*#__PURE__*/_jsxs(SimpleGrid,{columns:2,spacing:3,children:[/*#__PURE__*/_jsxs(Box,{p:2,borderRadius:\"md\",bg:useColorModeValue('gray.50','gray.700'),children:[/*#__PURE__*/_jsxs(Text,{fontSize:\"xs\",color:\"gray.500\",children:[match.homeTeam.name,\" (Home)\"]}),/*#__PURE__*/_jsxs(Flex,{justify:\"space-between\",align:\"center\",children:[/*#__PURE__*/_jsxs(Badge,{colorScheme:homeStats.homeFailedToScorePercentage&&homeStats.homeFailedToScorePercentage<30?\"green\":\"red\",children:[homeStats.homeFailedToScorePercentage||0,\"%\"]}),/*#__PURE__*/_jsxs(Text,{fontSize:\"xs\",children:[\"vs \",homeStats.failedToScorePercentage,\"% overall\"]})]})]}),/*#__PURE__*/_jsxs(Box,{p:2,borderRadius:\"md\",bg:useColorModeValue('gray.50','gray.700'),children:[/*#__PURE__*/_jsxs(Text,{fontSize:\"xs\",color:\"gray.500\",children:[match.awayTeam.name,\" (Away)\"]}),/*#__PURE__*/_jsxs(Flex,{justify:\"space-between\",align:\"center\",children:[/*#__PURE__*/_jsxs(Badge,{colorScheme:awayStats.awayFailedToScorePercentage&&awayStats.awayFailedToScorePercentage<30?\"green\":\"red\",children:[awayStats.awayFailedToScorePercentage||0,\"%\"]}),/*#__PURE__*/_jsxs(Text,{fontSize:\"xs\",children:[\"vs \",awayStats.failedToScorePercentage,\"% overall\"]})]})]})]})]})]})]})]}),h2hStats.totalMatches>0&&/*#__PURE__*/_jsxs(Box,{bg:cardBg,p:5,borderRadius:\"md\",boxShadow:\"md\",mb:6,position:\"relative\",overflow:\"hidden\",children:[/*#__PURE__*/_jsx(Box,{position:\"absolute\",bottom:\"-30px\",left:\"-30px\",bg:useColorModeValue('orange.50','orange.900'),w:\"150px\",h:\"150px\",borderRadius:\"full\",opacity:\"0.3\",zIndex:\"0\"}),/*#__PURE__*/_jsxs(Flex,{align:\"center\",mb:5,position:\"relative\",zIndex:\"1\",children:[/*#__PURE__*/_jsx(Icon,{as:FiActivity,color:\"orange.500\",mr:2,boxSize:\"24px\"}),/*#__PURE__*/_jsx(Heading,{size:\"md\",children:\"Head-to-Head History\"})]}),/*#__PURE__*/_jsxs(Box,{bg:useColorModeValue('white','gray.800'),borderRadius:\"lg\",boxShadow:\"sm\",overflow:\"hidden\",children:[/*#__PURE__*/_jsx(Box,{bg:useColorModeValue('orange.50','orange.900'),p:3,borderBottom:\"1px solid\",borderBottomColor:borderColor,children:/*#__PURE__*/_jsxs(Flex,{justify:\"space-between\",align:\"center\",children:[/*#__PURE__*/_jsxs(Heading,{size:\"sm\",children:[match.homeTeam.name,\" vs \",match.awayTeam.name]}),/*#__PURE__*/_jsxs(Badge,{colorScheme:\"orange\",children:[\"Last \",h2hStats.recentH2HForm.length,\" matches\"]})]})}),/*#__PURE__*/_jsx(Box,{overflowX:\"auto\",children:/*#__PURE__*/_jsxs(Table,{variant:\"simple\",size:\"sm\",children:[/*#__PURE__*/_jsx(Thead,{bg:useColorModeValue('gray.50','gray.700'),children:/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Th,{children:\"Date\"}),/*#__PURE__*/_jsx(Th,{children:\"Match\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,children:\"Score\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,children:\"BTTS\"}),/*#__PURE__*/_jsx(Th,{children:\"Total Goals\"})]})}),/*#__PURE__*/_jsx(Tbody,{children:h2hStats.recentH2HForm.slice(0,5).map((h2hMatch,index)=>{const totalGoals=h2hMatch.goalsScored+h2hMatch.goalsConceded;const formattedDate=new Date(h2hMatch.date).toLocaleDateString(undefined,{year:'numeric',month:'short',day:'numeric'});return/*#__PURE__*/_jsxs(Tr,{bg:index%2===0?'transparent':useColorModeValue('gray.50','gray.700'),children:[/*#__PURE__*/_jsx(Td,{fontSize:\"sm\",children:formattedDate}),/*#__PURE__*/_jsx(Td,{fontSize:\"sm\",children:/*#__PURE__*/_jsx(Text,{children:h2hMatch.opponent})}),/*#__PURE__*/_jsxs(Td,{isNumeric:true,fontSize:\"sm\",fontWeight:\"bold\",children:[h2hMatch.goalsScored,\"-\",h2hMatch.goalsConceded]}),/*#__PURE__*/_jsx(Td,{isNumeric:true,children:/*#__PURE__*/_jsx(Badge,{colorScheme:h2hMatch.bttsResult==='Yes'?'green':'red',variant:\"solid\",px:2,children:h2hMatch.bttsResult})}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsxs(Badge,{colorScheme:totalGoals>2.5?'green':'gray',variant:\"subtle\",children:[totalGoals,\" goals\"]})})]},index);})})]})}),/*#__PURE__*/_jsx(Box,{p:4,bg:useColorModeValue('gray.50','gray.700'),children:/*#__PURE__*/_jsxs(SimpleGrid,{columns:{base:1,md:3},spacing:4,children:[/*#__PURE__*/_jsxs(Stat,{children:[/*#__PURE__*/_jsx(StatLabel,{children:\"BTTS Rate\"}),/*#__PURE__*/_jsxs(StatNumber,{children:[h2hStats.bttsYesPercentage,\"%\"]}),/*#__PURE__*/_jsxs(StatHelpText,{children:[h2hStats.bttsYesCount,\" of \",h2hStats.totalMatches,\" matches\"]})]}),/*#__PURE__*/_jsxs(Stat,{children:[/*#__PURE__*/_jsx(StatLabel,{children:\"Average Goals\"}),/*#__PURE__*/_jsx(StatNumber,{children:h2hStats.averageTotalGoals.toFixed(1)}),/*#__PURE__*/_jsx(StatHelpText,{children:\"per match\"})]}),/*#__PURE__*/_jsxs(Stat,{children:[/*#__PURE__*/_jsx(StatLabel,{children:\"Results (Visible Matches)\"}),/*#__PURE__*/_jsx(Flex,{mt:2,justify:\"space-between\",children:(()=>{const visibleMatches=h2hStats.recentH2HForm.slice(0,5);const homeWins=visibleMatches.filter(m=>m.isHome&&m.goalsScored>m.goalsConceded||!m.isHome&&m.goalsConceded>m.goalsScored).length;const awayWins=visibleMatches.filter(m=>m.isHome&&m.goalsScored<m.goalsConceded||!m.isHome&&m.goalsConceded<m.goalsScored).length;const draws=visibleMatches.filter(m=>m.goalsScored===m.goalsConceded).length;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Badge,{colorScheme:\"green\",px:2,py:1,children:[homeWins,\" \",match.homeTeam.name]}),/*#__PURE__*/_jsxs(Badge,{colorScheme:\"yellow\",px:2,py:1,children:[draws,\" Draws\"]}),/*#__PURE__*/_jsxs(Badge,{colorScheme:\"purple\",px:2,py:1,children:[awayWins,\" \",match.awayTeam.name]})]});})()})]})]})})]})]})]});};export default CustomBTTSTab;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}