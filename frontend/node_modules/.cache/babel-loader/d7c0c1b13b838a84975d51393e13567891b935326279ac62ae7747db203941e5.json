{"ast":null,"code":"// @ts-nocheck\nimport React,{useState}from'react';import{Box,Flex,Text,Heading,VStack,HStack,Badge,Table,Thead,Tbody,Tr,Th,Td,Icon,Spinner,Center,Button,Tabs,TabList,TabPanels,TabPanel,Tab,useColorModeValue,Tooltip,UnorderedList,ListItem}from'@chakra-ui/react';import{FiAlertCircle,FiRefreshCw,FiCheck,FiAward}from'react-icons/fi';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CustomPlayerStatsTab=_ref=>{let{// match is not used but kept for interface compatibility\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nmatch,data,isLoading,initialGameCount=\"10\",onGameCountChange,onRefresh}=_ref;const[gameCount,setGameCount]=useState(initialGameCount);const[selectedTeamTab,setSelectedTeamTab]=useState(0);// 0 for home team, 1 for away team\n// Color mode values\nconst bgColor=useColorModeValue('gray.50','gray.900');const cardBg=useColorModeValue('white','gray.800');const borderColor=useColorModeValue('gray.200','gray.700');const accentColor=useColorModeValue('blue.500','blue.300');// If loading, show loading spinner\nif(isLoading){return/*#__PURE__*/_jsx(Center,{p:8,children:/*#__PURE__*/_jsxs(VStack,{spacing:4,children:[/*#__PURE__*/_jsx(Spinner,{size:\"xl\",color:\"blue.500\",thickness:\"4px\",speed:\"0.8s\"}),/*#__PURE__*/_jsx(Text,{color:\"gray.500\",fontWeight:\"medium\",children:\"Loading player statistics...\"})]})});}// If no data, show error message\nif(!data){return/*#__PURE__*/_jsx(Box,{p:4,bg:bgColor,borderRadius:\"md\",borderWidth:\"1px\",borderColor:borderColor,children:/*#__PURE__*/_jsxs(VStack,{spacing:4,align:\"center\",py:8,children:[/*#__PURE__*/_jsx(Icon,{as:FiAlertCircle,boxSize:\"48px\",color:\"gray.400\"}),/*#__PURE__*/_jsx(Heading,{size:\"md\",children:\"No Player Statistics Available\"}),/*#__PURE__*/_jsxs(Text,{align:\"center\",color:\"gray.500\",children:[\"We were unable to retrieve player statistics for this match.\",/*#__PURE__*/_jsx(\"br\",{}),\"This could be because the API data is currently unavailable.\"]}),onRefresh&&/*#__PURE__*/_jsx(Button,{leftIcon:/*#__PURE__*/_jsx(FiRefreshCw,{}),colorScheme:\"blue\",size:\"md\",onClick:onRefresh,mt:4,children:\"Retry\"})]})});}// Extract data for easier access\nconst{homeTeamPlayers,awayTeamPlayers}=data;// Generate dynamic player notes based on real data\nconst generatePlayerNotes=(teamPlayers,matchCount)=>{if(!teamPlayers.players||teamPlayers.players.length===0){return[];}const notes=[];const players=teamPlayers.players;// Calculate total goals\nconst totalGoals=players.reduce((sum,player)=>sum+(player.playerGoals||0),0);// Get top scorers (players with goals > 0)\nconst topScorers=players.filter(player=>(player.playerGoals||0)>0).sort((a,b)=>(b.playerGoals||0)-(a.playerGoals||0)).slice(0,5);// Top 5 scorers\n// Get top assisters (players with assists > 0)\nconst topAssisters=players.filter(player=>(player.playerAssists||0)>0).sort((a,b)=>(b.playerAssists||0)-(a.playerAssists||0)).slice(0,3);// Top 3 assisters\n// Note about total goals\nif(totalGoals>0){notes.push(`${teamPlayers.teamName} has scored ${totalGoals} goals in their last ${matchCount} matches.`);}else{notes.push(`${teamPlayers.teamName} has struggled to find the net in their last ${matchCount} matches.`);}// Note about top scorers\nif(topScorers.length>0){const scorerNames=topScorers.map(player=>`${player.playerName} (${player.playerGoals})`);if(scorerNames.length===1){notes.push(`${scorerNames[0]} is the team's leading scorer in this period.`);}else if(scorerNames.length===2){notes.push(`${scorerNames[0]} and ${scorerNames[1]} are the top scorers.`);}else{const lastScorer=scorerNames.pop();notes.push(`${scorerNames.join(', ')}, and ${lastScorer} have contributed goals.`);}}// Note about top assisters\nif(topAssisters.length>0){const assisterNames=topAssisters.map(player=>`${player.playerName} (${player.playerAssists})`);if(assisterNames.length===1){notes.push(`${assisterNames[0]} leads the team with assists in the last ${matchCount} matches.`);}else if(assisterNames.length===2){notes.push(`${assisterNames[0]} and ${assisterNames[1]} lead the team with assists in the last ${matchCount} matches.`);}else{const lastAssister=assisterNames.pop();notes.push(`${assisterNames.join(', ')}, and ${lastAssister} are the top assist providers in the last ${matchCount} matches.`);}}return notes;};// Render the Player Stats tab\nreturn/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Box,{bg:cardBg,p:4,borderRadius:\"md\",boxShadow:\"sm\",mb:6,position:\"relative\",children:[/*#__PURE__*/_jsxs(Flex,{justify:\"space-between\",align:\"center\",mb:4,children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",children:\"Player Stats & Performance\"}),/*#__PURE__*/_jsx(Badge,{colorScheme:\"green\",variant:\"solid\",px:2,py:1,children:\"Using Real Match Data\"})]}),/*#__PURE__*/_jsxs(Flex,{justify:\"space-between\",align:\"center\",mb:4,children:[/*#__PURE__*/_jsxs(HStack,{spacing:4,children:[/*#__PURE__*/_jsx(Text,{children:\"Player statistics from recent matches\"}),/*#__PURE__*/_jsx(Tabs,{variant:\"soft-rounded\",colorScheme:\"blue\",size:\"sm\",index:gameCount===\"5\"?0:1,onChange:index=>{const newCount=index===0?\"5\":\"10\";setGameCount(newCount);if(onGameCountChange){onGameCountChange(parseInt(newCount));}},children:/*#__PURE__*/_jsxs(TabList,{children:[/*#__PURE__*/_jsx(Tab,{fontWeight:\"medium\",px:3,children:\"Last 5\"}),/*#__PURE__*/_jsx(Tab,{fontWeight:\"medium\",px:3,children:\"Last 10\"})]})})]}),/*#__PURE__*/_jsxs(HStack,{spacing:2,children:[/*#__PURE__*/_jsx(Badge,{colorScheme:\"blue\",variant:\"outline\",children:\"Data Quality: High\"}),/*#__PURE__*/_jsx(Tooltip,{label:\"Data verified against official match records\",children:/*#__PURE__*/_jsx(Badge,{colorScheme:\"green\",variant:\"outline\",children:/*#__PURE__*/_jsxs(Flex,{align:\"center\",children:[/*#__PURE__*/_jsx(Icon,{as:FiCheck,mr:1}),\"Verified\"]})})})]})]}),gameCount===\"10\"&&/*#__PURE__*/_jsxs(Box,{mt:2,p:3,bg:\"blue.50\",borderRadius:\"md\",fontSize:\"sm\",children:[/*#__PURE__*/_jsx(Heading,{size:\"xs\",mb:2,color:\"blue.700\",children:\"Player Notes:\"}),/*#__PURE__*/_jsx(UnorderedList,{spacing:1,color:\"blue.700\",children:generatePlayerNotes(selectedTeamTab===0?homeTeamPlayers:awayTeamPlayers,gameCount).map((note,index)=>/*#__PURE__*/_jsx(ListItem,{children:note},index))})]}),gameCount===\"5\"&&/*#__PURE__*/_jsxs(Box,{mt:2,p:3,bg:\"blue.50\",borderRadius:\"md\",fontSize:\"sm\",children:[/*#__PURE__*/_jsx(Heading,{size:\"xs\",mb:2,color:\"blue.700\",children:\"Player Notes:\"}),/*#__PURE__*/_jsx(UnorderedList,{spacing:1,color:\"blue.700\",children:generatePlayerNotes(selectedTeamTab===0?homeTeamPlayers:awayTeamPlayers,gameCount).map((note,index)=>/*#__PURE__*/_jsx(ListItem,{children:note},index))})]})]}),/*#__PURE__*/_jsxs(Box,{bg:cardBg,p:5,borderRadius:\"md\",boxShadow:\"md\",mb:6,position:\"relative\",overflow:\"hidden\",children:[/*#__PURE__*/_jsxs(Flex,{align:\"center\",mb:5,children:[/*#__PURE__*/_jsx(Icon,{as:FiAward,color:accentColor,mr:2,boxSize:\"24px\"}),/*#__PURE__*/_jsx(Heading,{size:\"md\",children:\"Team Player Statistics\"})]}),/*#__PURE__*/_jsxs(Tabs,{variant:\"soft-rounded\",colorScheme:\"blue\",size:\"md\",mb:6,index:selectedTeamTab,onChange:index=>setSelectedTeamTab(index),children:[/*#__PURE__*/_jsxs(TabList,{mb:4,children:[/*#__PURE__*/_jsx(Tab,{fontWeight:\"medium\",px:4,py:2,children:homeTeamPlayers.teamName}),/*#__PURE__*/_jsx(Tab,{fontWeight:\"medium\",px:4,py:2,children:awayTeamPlayers.teamName})]}),/*#__PURE__*/_jsxs(TabPanels,{children:[/*#__PURE__*/_jsx(TabPanel,{p:0,children:/*#__PURE__*/_jsxs(Box,{bg:useColorModeValue('white','gray.800'),p:4,borderRadius:\"lg\",boxShadow:\"sm\",borderLeft:\"4px solid\",borderLeftColor:\"green.400\",children:[/*#__PURE__*/_jsxs(Heading,{size:\"sm\",mb:4,color:\"green.500\",children:[homeTeamPlayers.teamName,\" Player Statistics\"]}),/*#__PURE__*/_jsxs(Table,{variant:\"simple\",size:\"sm\",children:[/*#__PURE__*/_jsx(Thead,{bg:useColorModeValue('gray.50','gray.700'),children:/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Th,{children:\"Player\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,children:\"Goals\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,children:\"G/Game\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,children:\"Assists\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,children:\"A/Game\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,children:\"Games\"})]})}),/*#__PURE__*/_jsx(Tbody,{children:homeTeamPlayers.players&&homeTeamPlayers.players.length>0?// Include all players but sort by contribution\nhomeTeamPlayers.players.sort((a,b)=>b.playerGoals+b.playerAssists-(a.playerGoals+a.playerAssists)).map((player,index)=>/*#__PURE__*/_jsxs(Tr,{bg:index%2===0?'transparent':useColorModeValue('gray.50','gray.700'),children:[/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsxs(Flex,{align:\"center\",children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"medium\",children:player.playerName}),player.playerType&&/*#__PURE__*/_jsx(Badge,{ml:2,colorScheme:\"green\",variant:\"outline\",size:\"sm\",children:player.playerType})]})}),/*#__PURE__*/_jsx(Td,{isNumeric:true,fontWeight:player.playerGoals>0?\"bold\":\"normal\",color:player.playerGoals>0?\"green.500\":undefined,children:player.playerGoals}),/*#__PURE__*/_jsx(Td,{isNumeric:true,children:player.playerMatchPlayed&&player.playerGoals>0?/*#__PURE__*/_jsx(Badge,{colorScheme:\"green\",children:(player.playerGoals/player.playerMatchPlayed).toFixed(2)}):'-'}),/*#__PURE__*/_jsx(Td,{isNumeric:true,fontWeight:player.playerAssists>0?\"bold\":\"normal\",color:player.playerAssists>0?\"blue.500\":undefined,children:player.playerAssists}),/*#__PURE__*/_jsx(Td,{isNumeric:true,children:player.playerMatchPlayed&&player.playerAssists>0?/*#__PURE__*/_jsx(Badge,{colorScheme:\"blue\",children:(player.playerAssists/player.playerMatchPlayed).toFixed(2)}):'-'}),/*#__PURE__*/_jsx(Td,{isNumeric:true,children:player.playerMatchPlayed||'-'})]},index)):/*#__PURE__*/_jsx(Tr,{children:/*#__PURE__*/_jsx(Td,{colSpan:6,textAlign:\"center\",py:4,children:/*#__PURE__*/_jsxs(Text,{color:\"gray.500\",children:[\"No player data available for \",homeTeamPlayers.teamName]})})})})]}),(gameCount===\"5\"||gameCount===5)&&homeTeamPlayers.players&&/*#__PURE__*/_jsxs(Box,{mt:6,children:[/*#__PURE__*/_jsx(Heading,{size:\"xs\",mb:3,color:\"gray.500\",children:\"Players with Limited Appearances in Last 5 Matches\"}),/*#__PURE__*/_jsx(Box,{p:3,bg:useColorModeValue('gray.50','gray.700'),borderRadius:\"md\",children:/*#__PURE__*/_jsx(Flex,{flexWrap:\"wrap\",gap:2,children:homeTeamPlayers.players.filter(player=>player.playerMatchPlayed<3)// Show players with fewer than 3 appearances\n.map((player,index)=>/*#__PURE__*/_jsxs(Badge,{py:1,px:2,borderRadius:\"md\",variant:\"subtle\",colorScheme:\"gray\",children:[player.playerName,\" \",player.playerType?`(${player.playerType})`:'',player.playerMatchPlayed>0?` (${player.playerMatchPlayed} app)`:' (0 app)']},index))})}),/*#__PURE__*/_jsxs(Text,{fontSize:\"xs\",color:\"gray.500\",mt:2,children:[\"Note: These players had limited playing time in \",homeTeamPlayers.teamName,\"'s last \",gameCount,\" matches.\"]})]})]})}),/*#__PURE__*/_jsx(TabPanel,{p:0,children:/*#__PURE__*/_jsxs(Box,{bg:useColorModeValue('white','gray.800'),p:4,borderRadius:\"lg\",boxShadow:\"sm\",borderLeft:\"4px solid\",borderLeftColor:\"purple.400\",children:[/*#__PURE__*/_jsxs(Heading,{size:\"sm\",mb:4,color:\"purple.500\",children:[awayTeamPlayers.teamName,\" Player Statistics\"]}),/*#__PURE__*/_jsxs(Table,{variant:\"simple\",size:\"sm\",children:[/*#__PURE__*/_jsx(Thead,{bg:useColorModeValue('gray.50','gray.700'),children:/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Th,{children:\"Player\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,children:\"Goals\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,children:\"G/Game\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,children:\"Assists\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,children:\"A/Game\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,children:\"Games\"})]})}),/*#__PURE__*/_jsx(Tbody,{children:awayTeamPlayers.players&&awayTeamPlayers.players.length>0?// Include all players but sort by contribution\nawayTeamPlayers.players.sort((a,b)=>b.playerGoals+b.playerAssists-(a.playerGoals+a.playerAssists)).map((player,index)=>/*#__PURE__*/_jsxs(Tr,{bg:index%2===0?'transparent':useColorModeValue('gray.50','gray.700'),children:[/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsxs(Flex,{align:\"center\",children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"medium\",children:player.playerName}),player.playerType&&/*#__PURE__*/_jsx(Badge,{ml:2,colorScheme:\"purple\",variant:\"outline\",size:\"sm\",children:player.playerType})]})}),/*#__PURE__*/_jsx(Td,{isNumeric:true,fontWeight:player.playerGoals>0?\"bold\":\"normal\",color:player.playerGoals>0?\"green.500\":undefined,children:player.playerGoals}),/*#__PURE__*/_jsx(Td,{isNumeric:true,children:player.playerMatchPlayed&&player.playerGoals>0?/*#__PURE__*/_jsx(Badge,{colorScheme:\"green\",children:(player.playerGoals/player.playerMatchPlayed).toFixed(2)}):'-'}),/*#__PURE__*/_jsx(Td,{isNumeric:true,fontWeight:player.playerAssists>0?\"bold\":\"normal\",color:player.playerAssists>0?\"blue.500\":undefined,children:player.playerAssists}),/*#__PURE__*/_jsx(Td,{isNumeric:true,children:player.playerMatchPlayed&&player.playerAssists>0?/*#__PURE__*/_jsx(Badge,{colorScheme:\"blue\",children:(player.playerAssists/player.playerMatchPlayed).toFixed(2)}):'-'}),/*#__PURE__*/_jsx(Td,{isNumeric:true,children:player.playerMatchPlayed||'-'})]},index)):/*#__PURE__*/_jsx(Tr,{children:/*#__PURE__*/_jsx(Td,{colSpan:6,textAlign:\"center\",py:4,children:/*#__PURE__*/_jsxs(Text,{color:\"gray.500\",children:[\"No player data available for \",awayTeamPlayers.teamName]})})})})]}),(gameCount===\"5\"||gameCount===5)&&awayTeamPlayers.players&&/*#__PURE__*/_jsxs(Box,{mt:6,children:[/*#__PURE__*/_jsx(Heading,{size:\"xs\",mb:3,color:\"gray.500\",children:\"Players with Limited Appearances in Last 5 Matches\"}),/*#__PURE__*/_jsx(Box,{p:3,bg:useColorModeValue('gray.50','gray.700'),borderRadius:\"md\",children:/*#__PURE__*/_jsx(Flex,{flexWrap:\"wrap\",gap:2,children:awayTeamPlayers.players.filter(player=>player.playerMatchPlayed<3)// Show players with fewer than 3 appearances\n.map((player,index)=>/*#__PURE__*/_jsxs(Badge,{py:1,px:2,borderRadius:\"md\",variant:\"subtle\",colorScheme:\"gray\",children:[player.playerName,\" \",player.playerType?`(${player.playerType})`:'',player.playerMatchPlayed>0?` (${player.playerMatchPlayed} app)`:' (0 app)']},index))})}),/*#__PURE__*/_jsxs(Text,{fontSize:\"xs\",color:\"gray.500\",mt:2,children:[\"Note: These players had limited playing time in \",awayTeamPlayers.teamName,\"'s last \",gameCount,\" matches.\"]})]})]})})]})]})]})]});};export default CustomPlayerStatsTab;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}