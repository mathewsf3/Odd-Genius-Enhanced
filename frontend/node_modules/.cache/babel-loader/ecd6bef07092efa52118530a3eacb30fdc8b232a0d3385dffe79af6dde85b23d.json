{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Box,VStack,HStack,Text,Heading,Badge,Button,SimpleGrid,Stat,StatLabel,StatNumber,Table,Thead,Tbody,Tr,Th,Td,useColorModeValue,Icon,Flex,Alert,AlertIcon,Spinner,Avatar}from'@chakra-ui/react';import{FiAward,FiRefreshCw,FiTarget,FiBarChart2,FiInfo}from'react-icons/fi';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LeagueInfoTabFooty=_ref=>{var _match$league10;let{match,gameCount,onGameCountChange}=_ref;const[isRefreshing,setIsRefreshing]=useState(false);const[leagueStandings,setLeagueStandings]=useState(null);const[leagueStats,setLeagueStats]=useState(null);const[isLoadingLeagueData,setIsLoadingLeagueData]=useState(false);const[leagueSeasons,setLeagueSeasons]=useState(null);const[debugInfo,setDebugInfo]=useState(null);// Color mode values\nconst bgColor=useColorModeValue('white','gray.800');const cardBg=useColorModeValue('gray.50','gray.700');const borderColor=useColorModeValue('gray.200','gray.600');const textColor=useColorModeValue('gray.600','gray.400');const headingColor=useColorModeValue('gray.800','white');const accentBlue=useColorModeValue('blue.500','blue.300');const accentGreen=useColorModeValue('green.500','green.300');// Helper function to find season ID from league seasons data\nconst findSeasonId=(leagueId,seasonsData)=>{if(!seasonsData||!Array.isArray(seasonsData))return null;// Look for current season (2024/2025 or 2025)\nconst currentYear=new Date().getFullYear();const seasonPatterns=[`${currentYear}/${currentYear+1}`,`${currentYear-1}/${currentYear}`,currentYear.toString(),(currentYear-1).toString()];for(const season of seasonsData){var _season$competition_n,_match$league,_match$league$name,_season$season_id;// Check if this league matches our league ID or name\nconst leagueMatches=((_season$competition_n=season.competition_name)===null||_season$competition_n===void 0?void 0:_season$competition_n.toLowerCase().includes((_match$league=match.league)===null||_match$league===void 0?void 0:(_match$league$name=_match$league.name)===null||_match$league$name===void 0?void 0:_match$league$name.toLowerCase()))||((_season$season_id=season.season_id)===null||_season$season_id===void 0?void 0:_season$season_id.toString())===leagueId;if(leagueMatches){// Prefer current season\nfor(const pattern of seasonPatterns){var _season$season_name;if((_season$season_name=season.season_name)!==null&&_season$season_name!==void 0&&_season$season_name.includes(pattern)){return season.season_id;}}// If no current season found, return the first match\nreturn season.season_id;}}return null;};// Fetch league information from FootyStats API\nconst fetchLeagueData=async()=>{var _match$league2,_match$league3,_match$league4,_match$league5,_match$league6,_match$league7;console.log('ðŸ” League data fetch started');console.log('ðŸ” Match league data:',match.league);console.log('ðŸ” League ID:',(_match$league2=match.league)===null||_match$league2===void 0?void 0:_match$league2.id);console.log('ðŸ” Season ID:',(_match$league3=match.league)===null||_match$league3===void 0?void 0:_match$league3.season_id);if(!((_match$league4=match.league)!==null&&_match$league4!==void 0&&_match$league4.id)&&!((_match$league5=match.league)!==null&&_match$league5!==void 0&&_match$league5.name)){setDebugInfo({error:'No league ID or name available'});return;}setIsLoadingLeagueData(true);setDebugInfo({step:'Starting fetch',leagueId:(_match$league6=match.league)===null||_match$league6===void 0?void 0:_match$league6.id,leagueName:(_match$league7=match.league)===null||_match$league7===void 0?void 0:_match$league7.name});try{var _match$league8,_match$league1;// Step 1: Try to get league standings directly using league ID from match data\nif((_match$league8=match.league)!==null&&_match$league8!==void 0&&_match$league8.season_id){console.log(`ðŸ” Using season ID from match data: ${match.league.season_id}`);const directResponse=await fetch(`${process.env.REACT_APP_API_URL||'http://localhost:5000/api'}/footystats/league/${match.league.season_id}/standings`);if(directResponse.ok){const directData=await directResponse.json();if(directData.success&&directData.data){console.log('âœ… Successfully fetched league standings using match season ID');console.log('ðŸ“Š League standings data structure:',directData.data);// FootyStats returns nested structure: data.data.all_matches_table_overall\nlet standingsArray=null;console.log('ðŸ” Full API response structure:',JSON.stringify(directData,null,2));if(directData.data.data&&directData.data.data.all_matches_table_overall){standingsArray=directData.data.data.all_matches_table_overall;}else if(directData.data.data&&Array.isArray(directData.data.data)){standingsArray=directData.data.data;}else if(Array.isArray(directData.data)){standingsArray=directData.data;}else if(directData.data.league_table){standingsArray=directData.data.league_table;}console.log('ðŸ“Š Extracted standings array:',standingsArray);console.log('ðŸ“Š Is array?',Array.isArray(standingsArray));if(Array.isArray(standingsArray)&&standingsArray.length>0){setLeagueStandings(standingsArray);setDebugInfo(prev=>({...prev,step:'Direct success',standingsCount:standingsArray.length}));return;}else{console.warn('âš ï¸ No valid standings array found in FootyStats response');setDebugInfo(prev=>({...prev,step:'No standings data in response'}));}}}}// Step 2: Get league seasons to find the correct season_id\nconsole.log('ðŸ” Fetching FootyStats league seasons...');const seasonsResponse=await fetch(`${process.env.REACT_APP_API_URL||'http://localhost:5000/api'}/footystats/league-seasons`);if(seasonsResponse.ok){const seasonsData=await seasonsResponse.json();if(seasonsData.success&&seasonsData.data){setLeagueSeasons(seasonsData.data);setDebugInfo(prev=>({...prev,seasonsFound:seasonsData.data.length}));// Step 3: Find the correct season_id for our league\nconst seasonId=findSeasonId(match.league.id,seasonsData.data);if(seasonId){var _match$league9;console.log(`âœ… Found season ID: ${seasonId} for league: ${(_match$league9=match.league)===null||_match$league9===void 0?void 0:_match$league9.name}`);setDebugInfo(prev=>({...prev,seasonId,step:'Found season ID'}));// Step 4: Get league standings using season_id\nconst standingsResponse=await fetch(`${process.env.REACT_APP_API_URL||'http://localhost:5000/api'}/footystats/league/${seasonId}/standings`);if(standingsResponse.ok){const standingsData=await standingsResponse.json();if(standingsData.success&&standingsData.data){console.log('âœ… Successfully fetched FootyStats league standings');// Extract standings array from nested structure\nlet standingsArray=null;if(standingsData.data.data&&standingsData.data.data.all_matches_table_overall){standingsArray=standingsData.data.data.all_matches_table_overall;}else if(Array.isArray(standingsData.data)){standingsArray=standingsData.data;}else if(standingsData.data.league_table){standingsArray=standingsData.data.league_table;}if(Array.isArray(standingsArray)&&standingsArray.length>0){setLeagueStandings(standingsArray);setDebugInfo(prev=>({...prev,step:'Success',standingsCount:standingsArray.length}));return;}}}}else{var _match$league0;console.warn('âš ï¸ Could not find season ID for league:',(_match$league0=match.league)===null||_match$league0===void 0?void 0:_match$league0.name);setDebugInfo(prev=>({...prev,step:'Season ID not found'}));}}}// Step 5: Try alternative FootyStats endpoints\nconsole.log('ðŸ”„ Trying alternative FootyStats endpoints...');// Try using league name for search\nif((_match$league1=match.league)!==null&&_match$league1!==void 0&&_match$league1.name){const searchResponse=await fetch(`${process.env.REACT_APP_API_URL||'http://localhost:5000/api'}/footystats/leagues`);if(searchResponse.ok){const searchData=await searchResponse.json();if(searchData.success&&searchData.data){const foundLeague=searchData.data.find(league=>{var _league$competition_n,_league$name;return((_league$competition_n=league.competition_name)===null||_league$competition_n===void 0?void 0:_league$competition_n.toLowerCase().includes(match.league.name.toLowerCase()))||((_league$name=league.name)===null||_league$name===void 0?void 0:_league$name.toLowerCase().includes(match.league.name.toLowerCase()));});if(foundLeague&&foundLeague.season_id){console.log(`âœ… Found league via search: ${foundLeague.season_id}`);const altResponse=await fetch(`${process.env.REACT_APP_API_URL||'http://localhost:5000/api'}/footystats/league/${foundLeague.season_id}/standings`);if(altResponse.ok){const altData=await altResponse.json();if(altData.success&&altData.data){console.log('âœ… Successfully fetched league standings via search');setLeagueStandings(altData.data);setDebugInfo(prev=>({...prev,step:'Search success',standingsCount:altData.data.length}));return;}}}}}}// Step 6: No fallback - FootyStats API only\nconsole.warn('ðŸ”„ FootyStats league standings not available - no fallback APIs used');setDebugInfo(prev=>({...prev,step:'FootyStats only - no fallback'}));// If all methods fail, set appropriate debug info\nsetDebugInfo(prev=>({...prev,step:'All methods failed',error:'No league standings data available'}));}catch(error){console.error('âŒ Error fetching league data:',error);setDebugInfo(prev=>({...prev,error:error.message}));}finally{setIsLoadingLeagueData(false);}};// Load league data on component mount\nuseEffect(()=>{fetchLeagueData();},[(_match$league10=match.league)===null||_match$league10===void 0?void 0:_match$league10.id]);// Handle refresh\nconst handleRefresh=async()=>{setIsRefreshing(true);await fetchLeagueData();setTimeout(()=>setIsRefreshing(false),1000);};// Debug info removed for production\n// Render modern game count selector with white and green design\nconst renderGameCountSelector=()=>/*#__PURE__*/_jsx(Box,{bg:\"white\",p:8,borderRadius:\"2xl\",mb:8,border:\"2px solid\",borderColor:\"green.200\",boxShadow:\"0 8px 25px rgba(34, 197, 94, 0.15), 0 4px 6px -1px rgba(0, 0, 0, 0.1)\",_hover:{boxShadow:\"0 12px 35px rgba(34, 197, 94, 0.25), 0 8px 15px -3px rgba(0, 0, 0, 0.15)\",transform:\"translateY(-4px)\",borderColor:\"green.300\"},transition:\"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)\",children:/*#__PURE__*/_jsxs(Flex,{align:\"center\",justify:\"space-between\",children:[/*#__PURE__*/_jsxs(HStack,{spacing:4,children:[/*#__PURE__*/_jsx(Box,{bg:\"linear-gradient(135deg, #22C55E 0%, #16A34A 100%)\",p:4,borderRadius:\"xl\",boxShadow:\"0 4px 12px rgba(34, 197, 94, 0.3)\",children:/*#__PURE__*/_jsx(Icon,{as:FiInfo,color:\"white\",boxSize:7})}),/*#__PURE__*/_jsxs(VStack,{align:\"start\",spacing:1,children:[/*#__PURE__*/_jsx(Text,{fontSize:\"2xl\",fontWeight:\"700\",color:\"gray.900\",fontFamily:\"DIN, sans-serif\",children:\"\\uD83C\\uDFC6 League Information\"}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:\"gray.500\",fontWeight:\"500\",fontFamily:\"DIN, sans-serif\",children:\"League standings \\u2022 Team positions \\u2022 Competition details\"}),/*#__PURE__*/_jsx(Badge,{colorScheme:\"green\",variant:\"solid\",fontSize:\"xs\",px:3,py:1,borderRadius:\"full\",fontFamily:\"DIN, sans-serif\",children:\"FootyStats Data\"})]})]}),/*#__PURE__*/_jsx(Button,{size:\"lg\",leftIcon:/*#__PURE__*/_jsx(FiRefreshCw,{}),variant:\"outline\",onClick:handleRefresh,isLoading:isRefreshing,colorScheme:\"green\",borderRadius:\"xl\",borderWidth:\"2px\",px:6,py:3,fontWeight:\"700\",_hover:{transform:\"translateY(-3px)\",boxShadow:\"0 8px 20px rgba(34, 197, 94, 0.3)\",bg:\"green.50\"},transition:\"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)\",fontFamily:\"DIN, sans-serif\",children:\"\\uD83D\\uDD04 Refresh\"})]})});// Render modern league overview\nconst renderLeagueOverview=()=>{var _match$league11,_match$league12;return/*#__PURE__*/_jsxs(Box,{bg:\"white\",p:8,borderRadius:\"2xl\",border:\"2px solid\",borderColor:\"green.200\",boxShadow:\"0 8px 25px rgba(34, 197, 94, 0.15), 0 4px 6px -1px rgba(0, 0, 0, 0.1)\",mb:8,_hover:{boxShadow:\"0 12px 35px rgba(34, 197, 94, 0.25), 0 8px 15px -3px rgba(0, 0, 0, 0.15)\",transform:\"translateY(-4px)\",borderColor:\"green.300\"},transition:\"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)\",children:[/*#__PURE__*/_jsxs(Flex,{align:\"center\",mb:8,children:[/*#__PURE__*/_jsx(Box,{bg:\"linear-gradient(135deg, #22C55E 0%, #16A34A 100%)\",p:4,borderRadius:\"xl\",mr:4,boxShadow:\"0 4px 12px rgba(34, 197, 94, 0.3)\",children:/*#__PURE__*/_jsx(Icon,{as:FiAward,color:\"white\",boxSize:7})}),/*#__PURE__*/_jsxs(VStack,{align:\"start\",spacing:1,children:[/*#__PURE__*/_jsx(Text,{fontSize:\"2xl\",fontWeight:\"700\",color:\"gray.900\",fontFamily:\"DIN, sans-serif\",children:\"\\uD83C\\uDFC6 League Overview\"}),/*#__PURE__*/_jsx(Text,{color:\"gray.500\",fontSize:\"sm\",fontWeight:\"500\",fontFamily:\"DIN, sans-serif\",children:\"Competition details \\u2022 Team positions \\u2022 League context\"}),/*#__PURE__*/_jsx(Badge,{colorScheme:\"green\",variant:\"solid\",fontSize:\"xs\",px:3,py:1,borderRadius:\"full\",fontFamily:\"DIN, sans-serif\",children:\"Official Data\"})]})]}),/*#__PURE__*/_jsxs(SimpleGrid,{columns:{base:1,md:3},spacing:6,children:[/*#__PURE__*/_jsx(Box,{bg:\"gradient-to-br from-blue-50 to-blue-100\",p:6,borderRadius:\"xl\",border:\"1px solid\",borderColor:\"blue.200\",textAlign:\"center\",boxShadow:\"0 4px 12px rgba(59, 130, 246, 0.15)\",_hover:{transform:\"translateY(-4px)\",boxShadow:\"0 8px 25px rgba(59, 130, 246, 0.25)\",borderColor:\"blue.300\"},transition:\"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)\",children:/*#__PURE__*/_jsxs(VStack,{spacing:3,children:[/*#__PURE__*/_jsx(Text,{fontSize:\"xs\",color:\"blue.600\",fontWeight:\"600\",textTransform:\"uppercase\",fontFamily:\"DIN, sans-serif\",children:\"League\"}),/*#__PURE__*/_jsx(Text,{fontSize:\"lg\",fontWeight:\"800\",color:\"blue.700\",fontFamily:\"DIN, sans-serif\",textAlign:\"center\",children:((_match$league11=match.league)===null||_match$league11===void 0?void 0:_match$league11.name)||'Unknown League'}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:\"blue.600\",fontFamily:\"DIN, sans-serif\",children:((_match$league12=match.league)===null||_match$league12===void 0?void 0:_match$league12.country)||'International'})]})}),/*#__PURE__*/_jsx(Box,{bg:\"gradient-to-br from-green-50 to-green-100\",p:6,borderRadius:\"xl\",border:\"1px solid\",borderColor:\"green.200\",textAlign:\"center\",boxShadow:\"0 4px 12px rgba(34, 197, 94, 0.15)\",_hover:{transform:\"translateY(-4px)\",boxShadow:\"0 8px 25px rgba(34, 197, 94, 0.25)\",borderColor:\"green.300\"},transition:\"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)\",children:/*#__PURE__*/_jsxs(VStack,{spacing:3,children:[/*#__PURE__*/_jsx(Text,{fontSize:\"xs\",color:\"green.600\",fontWeight:\"600\",textTransform:\"uppercase\",fontFamily:\"DIN, sans-serif\",children:\"Home Position\"}),/*#__PURE__*/_jsx(Text,{fontSize:\"2xl\",fontWeight:\"800\",color:\"green.700\",fontFamily:\"DIN, sans-serif\",children:getTeamPosition(match.homeTeam.id)||'TBD'}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:\"green.600\",fontFamily:\"DIN, sans-serif\",children:match.homeTeam.name})]})}),/*#__PURE__*/_jsx(Box,{bg:\"gradient-to-br from-orange-50 to-orange-100\",p:6,borderRadius:\"xl\",border:\"1px solid\",borderColor:\"orange.200\",textAlign:\"center\",boxShadow:\"0 4px 12px rgba(251, 146, 60, 0.15)\",_hover:{transform:\"translateY(-4px)\",boxShadow:\"0 8px 25px rgba(251, 146, 60, 0.25)\",borderColor:\"orange.300\"},transition:\"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)\",children:/*#__PURE__*/_jsxs(VStack,{spacing:3,children:[/*#__PURE__*/_jsx(Text,{fontSize:\"xs\",color:\"orange.600\",fontWeight:\"600\",textTransform:\"uppercase\",fontFamily:\"DIN, sans-serif\",children:\"Away Position\"}),/*#__PURE__*/_jsx(Text,{fontSize:\"2xl\",fontWeight:\"800\",color:\"orange.700\",fontFamily:\"DIN, sans-serif\",children:getTeamPosition(match.awayTeam.id)||'TBD'}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:\"orange.600\",fontFamily:\"DIN, sans-serif\",children:match.awayTeam.name})]})})]})]});};// Helper function to get team position\nconst getTeamPosition=teamId=>{if(!leagueStandings||!Array.isArray(leagueStandings))return null;const team=leagueStandings.find(team=>{var _team$team,_team$team$id,_team$id;return((_team$team=team.team)===null||_team$team===void 0?void 0:(_team$team$id=_team$team.id)===null||_team$team$id===void 0?void 0:_team$team$id.toString())===teamId||((_team$id=team.id)===null||_team$id===void 0?void 0:_team$id.toString())===teamId;});return team?`${team.rank||team.position}`:null;};// Render modern league standings\nconst renderLeagueStandings=()=>{if(!leagueStandings||!Array.isArray(leagueStandings)){return/*#__PURE__*/_jsxs(Box,{bg:\"white\",p:8,borderRadius:\"2xl\",border:\"2px solid\",borderColor:\"gray.200\",boxShadow:\"0 4px 6px -1px rgba(0, 0, 0, 0.1)\",mb:8,children:[/*#__PURE__*/_jsxs(Flex,{align:\"center\",mb:8,children:[/*#__PURE__*/_jsx(Box,{bg:\"linear-gradient(135deg, #22C55E 0%, #16A34A 100%)\",p:4,borderRadius:\"xl\",mr:4,boxShadow:\"0 4px 12px rgba(34, 197, 94, 0.3)\",children:/*#__PURE__*/_jsx(Icon,{as:FiBarChart2,color:\"white\",boxSize:7})}),/*#__PURE__*/_jsxs(VStack,{align:\"start\",spacing:1,children:[/*#__PURE__*/_jsx(Text,{fontSize:\"2xl\",fontWeight:\"700\",color:\"gray.900\",fontFamily:\"DIN, sans-serif\",children:\"\\uD83D\\uDCCA League Standings\"}),/*#__PURE__*/_jsx(Text,{color:\"gray.500\",fontSize:\"sm\",fontWeight:\"500\",fontFamily:\"DIN, sans-serif\",children:\"Current league table and team positions\"})]})]}),isLoadingLeagueData?/*#__PURE__*/_jsx(Flex,{justify:\"center\",py:8,children:/*#__PURE__*/_jsxs(VStack,{spacing:4,children:[/*#__PURE__*/_jsx(Spinner,{size:\"xl\",color:\"green.500\",thickness:\"4px\"}),/*#__PURE__*/_jsx(Text,{color:\"gray.600\",fontSize:\"lg\",fontWeight:\"500\",fontFamily:\"DIN, sans-serif\",children:\"Loading league standings...\"}),/*#__PURE__*/_jsx(Text,{color:\"gray.500\",fontSize:\"sm\",fontFamily:\"DIN, sans-serif\",children:\"Fetching FootyStats data\"})]})}):/*#__PURE__*/_jsxs(Alert,{status:\"info\",borderRadius:\"xl\",bg:\"blue.50\",border:\"1px solid\",borderColor:\"blue.200\",children:[/*#__PURE__*/_jsx(AlertIcon,{color:\"blue.500\"}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"700\",color:\"blue.800\",fontFamily:\"DIN, sans-serif\",children:\"League Standings Not Available\"}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:\"blue.600\",fontFamily:\"DIN, sans-serif\",children:\"League standings data is not available for this competition. This may be due to the league not being covered by FootyStats or the season being inactive.\"})]})]})]});}// Highlight the teams playing in this match\nconst highlightTeam=teamId=>{return teamId===match.homeTeam.id||teamId===match.awayTeam.id;};return/*#__PURE__*/_jsxs(Box,{bg:\"white\",p:8,borderRadius:\"2xl\",border:\"2px solid\",borderColor:\"green.200\",boxShadow:\"0 8px 25px rgba(34, 197, 94, 0.15), 0 4px 6px -1px rgba(0, 0, 0, 0.1)\",mb:8,_hover:{boxShadow:\"0 12px 35px rgba(34, 197, 94, 0.25), 0 8px 15px -3px rgba(0, 0, 0, 0.15)\",transform:\"translateY(-4px)\",borderColor:\"green.300\"},transition:\"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)\",children:[/*#__PURE__*/_jsxs(Flex,{align:\"center\",mb:8,children:[/*#__PURE__*/_jsx(Box,{bg:\"linear-gradient(135deg, #22C55E 0%, #16A34A 100%)\",p:4,borderRadius:\"xl\",mr:4,boxShadow:\"0 4px 12px rgba(34, 197, 94, 0.3)\",children:/*#__PURE__*/_jsx(Icon,{as:FiBarChart2,color:\"white\",boxSize:7})}),/*#__PURE__*/_jsxs(VStack,{align:\"start\",spacing:1,children:[/*#__PURE__*/_jsx(Text,{fontSize:\"2xl\",fontWeight:\"700\",color:\"gray.900\",fontFamily:\"DIN, sans-serif\",children:\"\\uD83D\\uDCCA League Standings\"}),/*#__PURE__*/_jsxs(Text,{color:\"gray.500\",fontSize:\"sm\",fontWeight:\"500\",fontFamily:\"DIN, sans-serif\",children:[\"Current league table \\u2022 \",leagueStandings.length,\" teams\"]}),/*#__PURE__*/_jsx(Badge,{colorScheme:\"green\",variant:\"solid\",fontSize:\"xs\",px:3,py:1,borderRadius:\"full\",fontFamily:\"DIN, sans-serif\",children:\"Live Data\"})]})]}),/*#__PURE__*/_jsx(Box,{overflowX:\"auto\",borderRadius:\"xl\",border:\"1px solid\",borderColor:\"gray.200\",children:/*#__PURE__*/_jsxs(Table,{variant:\"simple\",size:\"sm\",children:[/*#__PURE__*/_jsx(Thead,{bg:\"gray.50\",children:/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Th,{fontFamily:\"DIN, sans-serif\",color:\"gray.700\",fontWeight:\"700\",children:\"Pos\"}),/*#__PURE__*/_jsx(Th,{fontFamily:\"DIN, sans-serif\",color:\"gray.700\",fontWeight:\"700\",children:\"Team\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,fontFamily:\"DIN, sans-serif\",color:\"gray.700\",fontWeight:\"700\",children:\"P\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,fontFamily:\"DIN, sans-serif\",color:\"gray.700\",fontWeight:\"700\",children:\"W\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,fontFamily:\"DIN, sans-serif\",color:\"gray.700\",fontWeight:\"700\",children:\"D\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,fontFamily:\"DIN, sans-serif\",color:\"gray.700\",fontWeight:\"700\",children:\"L\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,fontFamily:\"DIN, sans-serif\",color:\"gray.700\",fontWeight:\"700\",children:\"GF\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,fontFamily:\"DIN, sans-serif\",color:\"gray.700\",fontWeight:\"700\",children:\"GA\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,fontFamily:\"DIN, sans-serif\",color:\"gray.700\",fontWeight:\"700\",children:\"GD\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,fontFamily:\"DIN, sans-serif\",color:\"gray.700\",fontWeight:\"700\",children:\"Pts\"})]})}),/*#__PURE__*/_jsx(Tbody,{children:leagueStandings.slice(0,20).map((team,index)=>{var _team$team2,_team$team3,_team$team3$id,_team$team4,_team$team4$id,_team$team5,_team$team5$id,_team$team6,_team$team7,_team$team8,_team$team9,_team$team0,_team$all,_team$all2,_team$all3,_team$all4,_team$all5,_team$all5$goals,_team$all6,_team$all6$goals;return/*#__PURE__*/_jsxs(Tr,{bg:highlightTeam((_team$team3=team.team)===null||_team$team3===void 0?void 0:(_team$team3$id=_team$team3.id)===null||_team$team3$id===void 0?void 0:_team$team3$id.toString())?'green.50':'transparent',fontWeight:highlightTeam((_team$team4=team.team)===null||_team$team4===void 0?void 0:(_team$team4$id=_team$team4.id)===null||_team$team4$id===void 0?void 0:_team$team4$id.toString())?'bold':'normal',borderLeft:highlightTeam((_team$team5=team.team)===null||_team$team5===void 0?void 0:(_team$team5$id=_team$team5.id)===null||_team$team5$id===void 0?void 0:_team$team5$id.toString())?'4px solid':'none',borderLeftColor:\"green.400\",_hover:{bg:'gray.50'},transition:\"all 0.2s\",children:[/*#__PURE__*/_jsx(Td,{fontFamily:\"DIN, sans-serif\",fontWeight:\"700\",color:\"gray.800\",children:team.rank||team.position||index+1}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsxs(Flex,{align:\"center\",children:[/*#__PURE__*/_jsx(Avatar,{size:\"sm\",src:((_team$team6=team.team)===null||_team$team6===void 0?void 0:_team$team6.logo)||team.logo||`https://cdn.footystats.org/img/${((_team$team7=team.team)===null||_team$team7===void 0?void 0:_team$team7.name)||team.name}.png`||`https://ui-avatars.com/api/?name=${encodeURIComponent((((_team$team8=team.team)===null||_team$team8===void 0?void 0:_team$team8.name)||team.name).substring(0,2))}&background=22C55E&color=ffffff&bold=true&size=128`,name:((_team$team9=team.team)===null||_team$team9===void 0?void 0:_team$team9.name)||team.name,mr:3,border:\"1px solid\",borderColor:\"gray.200\"}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",fontWeight:\"600\",color:\"gray.800\",fontFamily:\"DIN, sans-serif\",isTruncated:true,maxW:\"150px\",children:((_team$team0=team.team)===null||_team$team0===void 0?void 0:_team$team0.name)||team.name})]})}),/*#__PURE__*/_jsx(Td,{isNumeric:true,fontFamily:\"DIN, sans-serif\",fontWeight:\"600\",color:\"gray.700\",children:((_team$all=team.all)===null||_team$all===void 0?void 0:_team$all.played)||team.played||0}),/*#__PURE__*/_jsx(Td,{isNumeric:true,fontFamily:\"DIN, sans-serif\",fontWeight:\"600\",color:\"green.600\",children:((_team$all2=team.all)===null||_team$all2===void 0?void 0:_team$all2.win)||team.win||0}),/*#__PURE__*/_jsx(Td,{isNumeric:true,fontFamily:\"DIN, sans-serif\",fontWeight:\"600\",color:\"yellow.600\",children:((_team$all3=team.all)===null||_team$all3===void 0?void 0:_team$all3.draw)||team.draw||0}),/*#__PURE__*/_jsx(Td,{isNumeric:true,fontFamily:\"DIN, sans-serif\",fontWeight:\"600\",color:\"red.600\",children:((_team$all4=team.all)===null||_team$all4===void 0?void 0:_team$all4.lose)||team.lose||0}),/*#__PURE__*/_jsx(Td,{isNumeric:true,fontFamily:\"DIN, sans-serif\",fontWeight:\"600\",color:\"blue.600\",children:((_team$all5=team.all)===null||_team$all5===void 0?void 0:(_team$all5$goals=_team$all5.goals)===null||_team$all5$goals===void 0?void 0:_team$all5$goals.for)||team.goalsFor||0}),/*#__PURE__*/_jsx(Td,{isNumeric:true,fontFamily:\"DIN, sans-serif\",fontWeight:\"600\",color:\"orange.600\",children:((_team$all6=team.all)===null||_team$all6===void 0?void 0:(_team$all6$goals=_team$all6.goals)===null||_team$all6$goals===void 0?void 0:_team$all6$goals.against)||team.goalsAgainst||0}),/*#__PURE__*/_jsxs(Td,{isNumeric:true,fontFamily:\"DIN, sans-serif\",fontWeight:\"700\",color:(team.goalsDiff||team.goalDifference||0)>=0?'green.600':'red.600',children:[(team.goalsDiff||team.goalDifference||0)>=0?'+':'',team.goalsDiff||team.goalDifference||0]}),/*#__PURE__*/_jsx(Td,{isNumeric:true,fontFamily:\"DIN, sans-serif\",fontWeight:\"800\",color:\"gray.800\",fontSize:\"md\",children:team.points||0})]},((_team$team2=team.team)===null||_team$team2===void 0?void 0:_team$team2.id)||index);})})]})})]});};// Render team comparison in league context\nconst renderTeamComparison=()=>{if(!leagueStandings||!Array.isArray(leagueStandings))return null;const homeTeamData=leagueStandings.find(team=>{var _team$team1,_team$team1$id,_team$id2;return((_team$team1=team.team)===null||_team$team1===void 0?void 0:(_team$team1$id=_team$team1.id)===null||_team$team1$id===void 0?void 0:_team$team1$id.toString())===match.homeTeam.id||((_team$id2=team.id)===null||_team$id2===void 0?void 0:_team$id2.toString())===match.homeTeam.id;});const awayTeamData=leagueStandings.find(team=>{var _team$team10,_team$team10$id,_team$id3;return((_team$team10=team.team)===null||_team$team10===void 0?void 0:(_team$team10$id=_team$team10.id)===null||_team$team10$id===void 0?void 0:_team$team10$id.toString())===match.awayTeam.id||((_team$id3=team.id)===null||_team$id3===void 0?void 0:_team$id3.toString())===match.awayTeam.id;});if(!homeTeamData||!awayTeamData)return null;return/*#__PURE__*/_jsxs(Box,{bg:cardBg,p:6,borderRadius:\"xl\",border:\"1px solid\",borderColor:borderColor,mb:6,children:[/*#__PURE__*/_jsxs(Flex,{align:\"center\",mb:4,children:[/*#__PURE__*/_jsx(Icon,{as:FiTarget,color:accentBlue,mr:3}),/*#__PURE__*/_jsx(Heading,{size:\"md\",color:headingColor,children:\"Head-to-Head League Comparison\"})]}),/*#__PURE__*/_jsxs(SimpleGrid,{columns:{base:1,md:2},spacing:6,children:[/*#__PURE__*/_jsxs(VStack,{spacing:4,children:[/*#__PURE__*/_jsx(Text,{fontSize:\"lg\",fontWeight:\"bold\",color:headingColor,children:match.homeTeam.name}),/*#__PURE__*/_jsxs(SimpleGrid,{columns:2,spacing:3,w:\"100%\",children:[/*#__PURE__*/_jsxs(Stat,{bg:bgColor,p:3,borderRadius:\"lg\",textAlign:\"center\",children:[/*#__PURE__*/_jsx(StatLabel,{fontSize:\"xs\",children:\"Position\"}),/*#__PURE__*/_jsx(StatNumber,{fontSize:\"lg\",color:accentGreen,children:homeTeamData.rank})]}),/*#__PURE__*/_jsxs(Stat,{bg:bgColor,p:3,borderRadius:\"lg\",textAlign:\"center\",children:[/*#__PURE__*/_jsx(StatLabel,{fontSize:\"xs\",children:\"Points\"}),/*#__PURE__*/_jsx(StatNumber,{fontSize:\"lg\",color:\"blue.500\",children:homeTeamData.points})]}),/*#__PURE__*/_jsxs(Stat,{bg:bgColor,p:3,borderRadius:\"lg\",textAlign:\"center\",children:[/*#__PURE__*/_jsx(StatLabel,{fontSize:\"xs\",children:\"Form\"}),/*#__PURE__*/_jsx(StatNumber,{fontSize:\"lg\",color:\"purple.500\",children:homeTeamData.form||'N/A'})]}),/*#__PURE__*/_jsxs(Stat,{bg:bgColor,p:3,borderRadius:\"lg\",textAlign:\"center\",children:[/*#__PURE__*/_jsx(StatLabel,{fontSize:\"xs\",children:\"Goal Diff\"}),/*#__PURE__*/_jsxs(StatNumber,{fontSize:\"lg\",color:homeTeamData.goalsDiff>=0?'green.500':'red.500',children:[homeTeamData.goalsDiff>=0?'+':'',homeTeamData.goalsDiff]})]})]})]}),/*#__PURE__*/_jsxs(VStack,{spacing:4,children:[/*#__PURE__*/_jsx(Text,{fontSize:\"lg\",fontWeight:\"bold\",color:headingColor,children:match.awayTeam.name}),/*#__PURE__*/_jsxs(SimpleGrid,{columns:2,spacing:3,w:\"100%\",children:[/*#__PURE__*/_jsxs(Stat,{bg:bgColor,p:3,borderRadius:\"lg\",textAlign:\"center\",children:[/*#__PURE__*/_jsx(StatLabel,{fontSize:\"xs\",children:\"Position\"}),/*#__PURE__*/_jsx(StatNumber,{fontSize:\"lg\",color:accentGreen,children:awayTeamData.rank})]}),/*#__PURE__*/_jsxs(Stat,{bg:bgColor,p:3,borderRadius:\"lg\",textAlign:\"center\",children:[/*#__PURE__*/_jsx(StatLabel,{fontSize:\"xs\",children:\"Points\"}),/*#__PURE__*/_jsx(StatNumber,{fontSize:\"lg\",color:\"blue.500\",children:awayTeamData.points})]}),/*#__PURE__*/_jsxs(Stat,{bg:bgColor,p:3,borderRadius:\"lg\",textAlign:\"center\",children:[/*#__PURE__*/_jsx(StatLabel,{fontSize:\"xs\",children:\"Form\"}),/*#__PURE__*/_jsx(StatNumber,{fontSize:\"lg\",color:\"purple.500\",children:awayTeamData.form||'N/A'})]}),/*#__PURE__*/_jsxs(Stat,{bg:bgColor,p:3,borderRadius:\"lg\",textAlign:\"center\",children:[/*#__PURE__*/_jsx(StatLabel,{fontSize:\"xs\",children:\"Goal Diff\"}),/*#__PURE__*/_jsxs(StatNumber,{fontSize:\"lg\",color:awayTeamData.goalsDiff>=0?'green.500':'red.500',children:[awayTeamData.goalsDiff>=0?'+':'',awayTeamData.goalsDiff]})]})]})]})]})]});};return/*#__PURE__*/_jsxs(VStack,{spacing:8,align:\"stretch\",fontFamily:\"DIN, sans-serif\",children:[renderGameCountSelector(),renderLeagueOverview(),renderTeamComparison(),renderLeagueStandings()]});};export default LeagueInfoTabFooty;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}