{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mathe\\\\OneDrive\\\\Desktop\\\\odd-genius - WORKING - Copy - Copy\\\\frontend\\\\src\\\\components\\\\match\\\\PlayerStatsTabFooty.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport { Box, VStack, HStack, Text, Heading, Badge, Button, SimpleGrid, useColorModeValue, Icon, Flex, Alert, AlertIcon, Spinner, Avatar } from '@chakra-ui/react';\nimport { FiUsers, FiRefreshCw, FiStar, FiActivity } from 'react-icons/fi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PlayerStatsTabFooty = ({\n  match,\n  gameCount,\n  onGameCountChange\n}) => {\n  var _match$league2;\n  const [isRefreshing, setIsRefreshing] = useState(false);\n  const [playerStats, setPlayerStats] = useState(null);\n  const [leaguePlayers, setLeaguePlayers] = useState(null);\n  const [isLoadingPlayerStats, setIsLoadingPlayerStats] = useState(false);\n\n  // Color mode values\n  const bgColor = useColorModeValue('white', 'gray.800');\n  const cardBg = useColorModeValue('gray.50', 'gray.700');\n  const borderColor = useColorModeValue('gray.200', 'gray.600');\n  const textColor = useColorModeValue('gray.600', 'gray.400');\n  const headingColor = useColorModeValue('gray.800', 'white');\n  const accentBlue = useColorModeValue('blue.500', 'blue.300');\n\n  // Fetch player statistics\n  const fetchPlayerStats = async () => {\n    if (!match.id) return;\n    setIsLoadingPlayerStats(true);\n    try {\n      var _match$league;\n      const [matchPlayerStats, leaguePlayersData] = await Promise.all([fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5000/api'}/matches/${match.id}/players`), (_match$league = match.league) !== null && _match$league !== void 0 && _match$league.id ? fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5000/api'}/footystats/league/${match.league.id}/players?page=1`) : Promise.resolve(null)]);\n      if (matchPlayerStats.ok) {\n        const playerData = await matchPlayerStats.json();\n        if (playerData.success) setPlayerStats(playerData.data);\n      }\n      if (leaguePlayersData && leaguePlayersData.ok) {\n        const leagueData = await leaguePlayersData.json();\n        if (leagueData.success) setLeaguePlayers(leagueData.data);\n      }\n    } catch (error) {\n      console.error('Error fetching player stats:', error);\n    } finally {\n      setIsLoadingPlayerStats(false);\n    }\n  };\n\n  // Load player stats on component mount\n  useEffect(() => {\n    fetchPlayerStats();\n  }, [match.id, (_match$league2 = match.league) === null || _match$league2 === void 0 ? void 0 : _match$league2.id]);\n\n  // Handle refresh\n  const handleRefresh = async () => {\n    setIsRefreshing(true);\n    await fetchPlayerStats();\n    setTimeout(() => setIsRefreshing(false), 1000);\n  };\n\n  // Render game count selector\n  const renderGameCountSelector = () => /*#__PURE__*/_jsxDEV(Box, {\n    mb: 6,\n    children: [/*#__PURE__*/_jsxDEV(Flex, {\n      justify: \"space-between\",\n      align: \"center\",\n      mb: 4,\n      children: [/*#__PURE__*/_jsxDEV(Heading, {\n        size: \"lg\",\n        color: headingColor,\n        children: \"Player Statistics Analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        leftIcon: /*#__PURE__*/_jsxDEV(Icon, {\n          as: FiRefreshCw\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this),\n        onClick: handleRefresh,\n        isLoading: isRefreshing,\n        size: \"sm\",\n        variant: \"outline\",\n        children: \"Refresh\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Text, {\n      fontSize: \"sm\",\n      color: textColor,\n      mb: 4,\n      children: \"Comprehensive player analysis including lineups, key players, and performance metrics\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(HStack, {\n      spacing: 2,\n      children: [5, 10, 15, 20].map(count => /*#__PURE__*/_jsxDEV(Button, {\n        size: \"sm\",\n        variant: gameCount === count ? 'solid' : 'outline',\n        colorScheme: \"blue\",\n        onClick: () => onGameCountChange(count),\n        children: [\"Last \", count]\n      }, count, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 5\n  }, this);\n\n  // Render lineups from match data\n  const renderLineups = () => {\n    var _match$lineups$home, _match$lineups$away;\n    if (!match.lineups) {\n      return /*#__PURE__*/_jsxDEV(Alert, {\n        status: \"info\",\n        borderRadius: \"lg\",\n        mb: 6,\n        children: [/*#__PURE__*/_jsxDEV(AlertIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            fontWeight: \"bold\",\n            children: \"Lineups Not Available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"sm\",\n            children: \"Player lineups will be available closer to match time.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(Box, {\n      bg: cardBg,\n      p: 6,\n      borderRadius: \"xl\",\n      border: \"1px solid\",\n      borderColor: borderColor,\n      mb: 6,\n      children: [/*#__PURE__*/_jsxDEV(Flex, {\n        align: \"center\",\n        mb: 4,\n        children: [/*#__PURE__*/_jsxDEV(Icon, {\n          as: FiUsers,\n          color: accentBlue,\n          mr: 3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Heading, {\n          size: \"md\",\n          color: headingColor,\n          children: \"Starting Lineups\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SimpleGrid, {\n        columns: {\n          base: 1,\n          md: 2\n        },\n        spacing: 6,\n        children: [/*#__PURE__*/_jsxDEV(VStack, {\n          spacing: 4,\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"lg\",\n            fontWeight: \"bold\",\n            color: headingColor,\n            children: match.homeTeam.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            w: \"100%\",\n            children: (_match$lineups$home = match.lineups.home) === null || _match$lineups$home === void 0 ? void 0 : _match$lineups$home.map((player, index) => /*#__PURE__*/_jsxDEV(Flex, {\n              align: \"center\",\n              p: 2,\n              bg: bgColor,\n              borderRadius: \"md\",\n              mb: 2,\n              children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                size: \"sm\",\n                name: player.name,\n                mr: 3\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                flex: \"1\",\n                children: [/*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"sm\",\n                  fontWeight: \"bold\",\n                  children: player.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"xs\",\n                  color: textColor,\n                  children: player.position\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                colorScheme: \"blue\",\n                size: \"sm\",\n                children: [\"#\", player.number]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(VStack, {\n          spacing: 4,\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"lg\",\n            fontWeight: \"bold\",\n            color: headingColor,\n            children: match.awayTeam.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            w: \"100%\",\n            children: (_match$lineups$away = match.lineups.away) === null || _match$lineups$away === void 0 ? void 0 : _match$lineups$away.map((player, index) => /*#__PURE__*/_jsxDEV(Flex, {\n              align: \"center\",\n              p: 2,\n              bg: bgColor,\n              borderRadius: \"md\",\n              mb: 2,\n              children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                size: \"sm\",\n                name: player.name,\n                mr: 3\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                flex: \"1\",\n                children: [/*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"sm\",\n                  fontWeight: \"bold\",\n                  children: player.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"xs\",\n                  color: textColor,\n                  children: player.position\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                colorScheme: \"red\",\n                size: \"sm\",\n                children: [\"#\", player.number]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Render enhanced player analysis\n  const renderEnhancedPlayerAnalysis = () => {\n    if (!playerStats && !leaguePlayers) {\n      return /*#__PURE__*/_jsxDEV(Box, {\n        bg: cardBg,\n        p: 6,\n        borderRadius: \"xl\",\n        border: \"1px solid\",\n        borderColor: borderColor,\n        mb: 6,\n        children: [/*#__PURE__*/_jsxDEV(Flex, {\n          align: \"center\",\n          mb: 4,\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            as: FiActivity,\n            color: accentBlue,\n            mr: 3\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Heading, {\n            size: \"md\",\n            color: headingColor,\n            children: \"Enhanced Player Analysis\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), isLoadingPlayerStats ? /*#__PURE__*/_jsxDEV(Flex, {\n          justify: \"center\",\n          py: 8,\n          children: /*#__PURE__*/_jsxDEV(VStack, {\n            spacing: 3,\n            children: [/*#__PURE__*/_jsxDEV(Spinner, {\n              size: \"lg\",\n              color: \"blue.500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              color: textColor,\n              children: \"Loading comprehensive player statistics...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Alert, {\n          status: \"info\",\n          borderRadius: \"lg\",\n          children: [/*#__PURE__*/_jsxDEV(AlertIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              fontWeight: \"bold\",\n              children: \"Enhanced Player Statistics Loading\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              fontSize: \"sm\",\n              children: \"Comprehensive player statistics will be displayed here once loaded.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(Box, {\n      bg: cardBg,\n      p: 6,\n      borderRadius: \"xl\",\n      border: \"1px solid\",\n      borderColor: borderColor,\n      mb: 6,\n      children: [/*#__PURE__*/_jsxDEV(Flex, {\n        align: \"center\",\n        mb: 4,\n        children: [/*#__PURE__*/_jsxDEV(Icon, {\n          as: FiStar,\n          color: accentBlue,\n          mr: 3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Heading, {\n          size: \"md\",\n          color: headingColor,\n          children: \"Key Player Statistics\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        fontSize: \"sm\",\n        color: textColor,\n        mb: 4,\n        children: \"Player performance data and key statistics for both teams\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Alert, {\n        status: \"success\",\n        borderRadius: \"lg\",\n        children: [/*#__PURE__*/_jsxDEV(AlertIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            fontWeight: \"bold\",\n            children: \"Player Data Available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"sm\",\n            children: \"Enhanced player statistics are being processed and will be displayed shortly.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(VStack, {\n    spacing: 6,\n    align: \"stretch\",\n    children: [renderGameCountSelector(), renderLineups(), renderEnhancedPlayerAnalysis()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 321,\n    columnNumber: 5\n  }, this);\n};\nexport default PlayerStatsTabFooty;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}