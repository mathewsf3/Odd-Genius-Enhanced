{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mathe\\\\OneDrive\\\\Desktop\\\\odd-genius - WORKING - Copy - Copy\\\\frontend\\\\src\\\\components\\\\match\\\\MatchHeaderFormFooty.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport { Box, VStack, HStack, Text, Heading, SimpleGrid, Stat, StatLabel, StatNumber, Icon, Flex, Avatar, Spinner } from '@chakra-ui/react';\nimport { FiTrendingUp } from 'react-icons/fi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MatchHeaderFormFooty = ({\n  match\n}) => {\n  var _homeTeamLastX$data, _awayTeamLastX$data, _homeLastXData$last, _awayLastXData$last;\n  const [homeTeamLastX, setHomeTeamLastX] = useState(null);\n  const [awayTeamLastX, setAwayTeamLastX] = useState(null);\n  const [matchData, setMatchData] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Modern white and green color scheme\n  const bgColor = 'white';\n  const cardBg = 'gray.50';\n  const borderColor = 'gray.200';\n  const textColor = 'gray.600';\n  const headingColor = 'gray.900';\n\n  // Fetch team form data and match details\n  const fetchFormData = async () => {\n    if (!match.homeTeam.id || !match.awayTeam.id) return;\n    setIsLoading(true);\n    try {\n      const [homeLastX, awayLastX, matchResponse] = await Promise.all([fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5000/api'}/footystats/team/${match.homeTeam.id}/lastx`), fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5000/api'}/footystats/team/${match.awayTeam.id}/lastx`), fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5000/api'}/footystats/match/${match.id}`)]);\n      if (homeLastX.ok) {\n        const homeLastXData = await homeLastX.json();\n        if (homeLastXData.success) setHomeTeamLastX(homeLastXData.data);\n      }\n      if (awayLastX.ok) {\n        const awayLastXData = await awayLastX.json();\n        if (awayLastXData.success) setAwayTeamLastX(awayLastXData.data);\n      }\n      if (matchResponse.ok) {\n        const matchResult = await matchResponse.json();\n        if (matchResult.success) setMatchData(matchResult.data);\n      }\n    } catch (error) {\n      console.error('Error fetching form data:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Load form data on component mount\n  useEffect(() => {\n    fetchFormData();\n  }, [match.homeTeam.id, match.awayTeam.id]);\n\n  // Generate form string (WWLDW format) from team data\n  const generateFormString = teamData => {\n    var _teamData$data, _teamData$data$;\n    if (!(teamData !== null && teamData !== void 0 && (_teamData$data = teamData.data) !== null && _teamData$data !== void 0 && (_teamData$data$ = _teamData$data[0]) !== null && _teamData$data$ !== void 0 && _teamData$data$.last_matches)) return '';\n    const lastMatches = teamData.data[0].last_matches.slice(0, 5);\n    return lastMatches.map(match => {\n      if (match.result === 'W') return 'W';\n      if (match.result === 'L') return 'L';\n      if (match.result === 'D') return 'D';\n      return '?';\n    }).join('');\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      bg: cardBg,\n      p: 4,\n      borderRadius: \"lg\",\n      border: \"1px solid\",\n      borderColor: borderColor,\n      mb: 4,\n      children: /*#__PURE__*/_jsxDEV(Flex, {\n        justify: \"center\",\n        align: \"center\",\n        py: 4,\n        children: [/*#__PURE__*/_jsxDEV(Spinner, {\n          size: \"sm\",\n          color: \"blue.500\",\n          mr: 3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          fontSize: \"sm\",\n          color: textColor,\n          children: \"Loading team form...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this);\n  }\n  if (!homeTeamLastX || !awayTeamLastX) {\n    return null;\n  }\n  const homeLastXData = (_homeTeamLastX$data = homeTeamLastX.data) === null || _homeTeamLastX$data === void 0 ? void 0 : _homeTeamLastX$data[0];\n  const awayLastXData = (_awayTeamLastX$data = awayTeamLastX.data) === null || _awayTeamLastX$data === void 0 ? void 0 : _awayTeamLastX$data[0];\n  return /*#__PURE__*/_jsxDEV(Box, {\n    bg: cardBg,\n    p: 4,\n    borderRadius: \"lg\",\n    border: \"1px solid\",\n    borderColor: borderColor,\n    mb: 4,\n    children: [/*#__PURE__*/_jsxDEV(Flex, {\n      align: \"center\",\n      mb: 4,\n      children: [/*#__PURE__*/_jsxDEV(Icon, {\n        as: FiTrendingUp,\n        color: accentBlue,\n        mr: 2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Heading, {\n        size: \"sm\",\n        color: headingColor,\n        children: \"Recent Form (Last 5 Matches)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SimpleGrid, {\n      columns: {\n        base: 1,\n        md: 2\n      },\n      spacing: 6,\n      children: [/*#__PURE__*/_jsxDEV(Flex, {\n        align: \"center\",\n        justify: \"space-between\",\n        children: [/*#__PURE__*/_jsxDEV(Flex, {\n          align: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            size: \"sm\",\n            src: match.homeTeam.logo,\n            name: match.homeTeam.name,\n            mr: 3\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(VStack, {\n            spacing: 0,\n            align: \"start\",\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              fontSize: \"sm\",\n              fontWeight: \"bold\",\n              color: headingColor,\n              children: match.homeTeam.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              fontSize: \"xs\",\n              color: textColor,\n              children: [(homeLastXData === null || homeLastXData === void 0 ? void 0 : homeLastXData.last5_ppg) || 0, \" PPG\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(HStack, {\n          spacing: 1,\n          children: homeLastXData === null || homeLastXData === void 0 ? void 0 : (_homeLastXData$last = homeLastXData.last5) === null || _homeLastXData$last === void 0 ? void 0 : _homeLastXData$last.split('').map((result, index) => /*#__PURE__*/_jsxDEV(Box, {\n            w: \"24px\",\n            h: \"24px\",\n            borderRadius: \"full\",\n            bg: result === 'W' ? 'green.500' : result === 'D' ? 'yellow.500' : 'red.500',\n            color: \"white\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            fontWeight: \"bold\",\n            fontSize: \"xs\",\n            children: result\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Flex, {\n        align: \"center\",\n        justify: \"space-between\",\n        children: [/*#__PURE__*/_jsxDEV(Flex, {\n          align: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            size: \"sm\",\n            src: match.awayTeam.logo,\n            name: match.awayTeam.name,\n            mr: 3\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(VStack, {\n            spacing: 0,\n            align: \"start\",\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              fontSize: \"sm\",\n              fontWeight: \"bold\",\n              color: headingColor,\n              children: match.awayTeam.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              fontSize: \"xs\",\n              color: textColor,\n              children: [(awayLastXData === null || awayLastXData === void 0 ? void 0 : awayLastXData.last5_ppg) || 0, \" PPG\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(HStack, {\n          spacing: 1,\n          children: awayLastXData === null || awayLastXData === void 0 ? void 0 : (_awayLastXData$last = awayLastXData.last5) === null || _awayLastXData$last === void 0 ? void 0 : _awayLastXData$last.split('').map((result, index) => /*#__PURE__*/_jsxDEV(Box, {\n            w: \"24px\",\n            h: \"24px\",\n            borderRadius: \"full\",\n            bg: result === 'W' ? 'green.500' : result === 'D' ? 'yellow.500' : 'red.500',\n            color: \"white\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            fontWeight: \"bold\",\n            fontSize: \"xs\",\n            children: result\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SimpleGrid, {\n      columns: {\n        base: 2,\n        md: 4\n      },\n      spacing: 3,\n      mt: 4,\n      children: [/*#__PURE__*/_jsxDEV(Stat, {\n        textAlign: \"center\",\n        bg: bgColor,\n        p: 2,\n        borderRadius: \"md\",\n        children: [/*#__PURE__*/_jsxDEV(StatLabel, {\n          fontSize: \"xs\",\n          children: \"Goals/Game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StatNumber, {\n          fontSize: \"sm\",\n          color: \"green.500\",\n          children: [((homeLastXData === null || homeLastXData === void 0 ? void 0 : homeLastXData.last5_scored_avg) || 0).toFixed(1), \" - \", ((awayLastXData === null || awayLastXData === void 0 ? void 0 : awayLastXData.last5_scored_avg) || 0).toFixed(1)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Stat, {\n        textAlign: \"center\",\n        bg: bgColor,\n        p: 2,\n        borderRadius: \"md\",\n        children: [/*#__PURE__*/_jsxDEV(StatLabel, {\n          fontSize: \"xs\",\n          children: \"Conceded/Game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StatNumber, {\n          fontSize: \"sm\",\n          color: \"red.500\",\n          children: [((homeLastXData === null || homeLastXData === void 0 ? void 0 : homeLastXData.last5_conceded_avg) || 0).toFixed(1), \" - \", ((awayLastXData === null || awayLastXData === void 0 ? void 0 : awayLastXData.last5_conceded_avg) || 0).toFixed(1)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Stat, {\n        textAlign: \"center\",\n        bg: bgColor,\n        p: 2,\n        borderRadius: \"md\",\n        children: [/*#__PURE__*/_jsxDEV(StatLabel, {\n          fontSize: \"xs\",\n          children: \"BTTS Rate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StatNumber, {\n          fontSize: \"sm\",\n          color: \"purple.500\",\n          children: [(homeLastXData === null || homeLastXData === void 0 ? void 0 : homeLastXData.last5_btts_percentage) || 0, \"% - \", (awayLastXData === null || awayLastXData === void 0 ? void 0 : awayLastXData.last5_btts_percentage) || 0, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Stat, {\n        textAlign: \"center\",\n        bg: bgColor,\n        p: 2,\n        borderRadius: \"md\",\n        children: [/*#__PURE__*/_jsxDEV(StatLabel, {\n          fontSize: \"xs\",\n          children: \"Form Advantage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StatNumber, {\n          fontSize: \"sm\",\n          color: ((homeLastXData === null || homeLastXData === void 0 ? void 0 : homeLastXData.last5_ppg) || 0) > ((awayLastXData === null || awayLastXData === void 0 ? void 0 : awayLastXData.last5_ppg) || 0) ? 'green.500' : ((homeLastXData === null || homeLastXData === void 0 ? void 0 : homeLastXData.last5_ppg) || 0) < ((awayLastXData === null || awayLastXData === void 0 ? void 0 : awayLastXData.last5_ppg) || 0) ? 'red.500' : 'yellow.500',\n          children: ((homeLastXData === null || homeLastXData === void 0 ? void 0 : homeLastXData.last5_ppg) || 0) > ((awayLastXData === null || awayLastXData === void 0 ? void 0 : awayLastXData.last5_ppg) || 0) ? 'HOME' : ((homeLastXData === null || homeLastXData === void 0 ? void 0 : homeLastXData.last5_ppg) || 0) < ((awayLastXData === null || awayLastXData === void 0 ? void 0 : awayLastXData.last5_ppg) || 0) ? 'AWAY' : 'EVEN'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this);\n};\nexport default MatchHeaderFormFooty;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}