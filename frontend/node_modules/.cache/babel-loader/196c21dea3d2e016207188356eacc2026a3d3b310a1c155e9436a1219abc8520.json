{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{Box,VStack,HStack,Text,Input,Button,Container,useColorModeValue,useBreakpointValue,Flex,Avatar,Spinner,Alert,AlertIcon,useToast,Heading,Badge,Icon}from'@chakra-ui/react';import{FiSend,FiMessageCircle,FiUser,FiCpu,FiZap,FiTrendingUp}from'react-icons/fi';import{chatService}from'../services/chatService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OddGeniusAI=()=>{const[messages,setMessages]=useState([{id:'1',text:\"Hello! ⚽ I'm your dedicated soccer analytics AI assistant.\\n\\nI can help you with:\\n🎯 Match analysis and predictions\\n📊 League statistics and trends\\n💰 Betting insights and strategies\\n📈 Player performance analysis\\n🏆 Competition previews\\n\\nWhat aspect of soccer would you like to explore today?\",isUser:false,timestamp:new Date()}]);const[inputValue,setInputValue]=useState('');const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState(null);const messagesEndRef=useRef(null);const toast=useToast();const bg=useColorModeValue('gray.50','gray.900');const cardBg=useColorModeValue('white','gray.800');const borderColor=useColorModeValue('gray.200','gray.600');const userMessageBg=useColorModeValue('blue.500','blue.600');const botMessageBg=useColorModeValue('gray.100','gray.700');const inputBg=useColorModeValue('white','gray.700');const headerGradient=useColorModeValue('linear(to-r, blue.400, purple.500)','linear(to-r, blue.600, purple.700)');const isMobile=useBreakpointValue({base:true,md:false});const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};useEffect(()=>{scrollToBottom();},[messages]);const handleSendMessage=async()=>{if(!inputValue.trim()||isLoading)return;const userMessage={id:Date.now().toString(),text:inputValue.trim(),isUser:true,timestamp:new Date()};setMessages(prev=>[...prev,userMessage]);setInputValue('');setIsLoading(true);setError(null);try{const response=await chatService.sendMessage(inputValue.trim());const botMessage={id:(Date.now()+1).toString(),text:response,isUser:false,timestamp:new Date()};setMessages(prev=>[...prev,botMessage]);}catch(err){console.error('Chat error:',err);setError(err.message||'Failed to get response. Please try again.');toast({title:'Error',description:'Failed to send message. Please try again.',status:'error',duration:3000,isClosable:true});}finally{setIsLoading(false);}};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleSendMessage();}};const formatTimestamp=timestamp=>{return timestamp.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});};return/*#__PURE__*/_jsx(Box,{bg:bg,minH:\"100vh\",py:4,children:/*#__PURE__*/_jsx(Container,{maxW:\"container.xl\",children:/*#__PURE__*/_jsxs(VStack,{spacing:6,h:\"calc(100vh - 200px)\",children:[/*#__PURE__*/_jsxs(Box,{w:\"full\",bgGradient:headerGradient,borderRadius:\"xl\",p:6,color:\"white\",position:\"relative\",overflow:\"hidden\",children:[/*#__PURE__*/_jsx(Box,{position:\"absolute\",top:\"-50%\",right:\"-10%\",w:\"200px\",h:\"200px\",bg:\"whiteAlpha.100\",borderRadius:\"full\",filter:\"blur(40px)\"}),/*#__PURE__*/_jsxs(Flex,{align:\"center\",justify:\"space-between\",position:\"relative\",children:[/*#__PURE__*/_jsxs(HStack,{spacing:4,children:[/*#__PURE__*/_jsx(Box,{p:3,bg:\"whiteAlpha.200\",borderRadius:\"lg\",backdropFilter:\"blur(10px)\",children:/*#__PURE__*/_jsx(Icon,{as:FiMessageCircle,boxSize:8})}),/*#__PURE__*/_jsxs(VStack,{align:\"start\",spacing:1,children:[/*#__PURE__*/_jsx(Heading,{size:isMobile?\"md\":\"lg\",fontWeight:\"bold\",children:\"Odd Genius AI\"}),/*#__PURE__*/_jsx(Text,{fontSize:isMobile?\"sm\":\"md\",opacity:0.9,children:\"Your Advanced Soccer Analytics Assistant\"})]})]}),/*#__PURE__*/_jsxs(VStack,{align:\"end\",spacing:2,children:[/*#__PURE__*/_jsx(Badge,{colorScheme:\"green\",fontSize:\"sm\",px:3,py:1,borderRadius:\"full\",bg:\"green.400\",color:\"white\",children:/*#__PURE__*/_jsxs(HStack,{spacing:1,children:[/*#__PURE__*/_jsx(Icon,{as:FiZap,boxSize:3}),/*#__PURE__*/_jsx(Text,{children:\"Active\"})]})}),/*#__PURE__*/_jsxs(HStack,{spacing:1,fontSize:\"xs\",opacity:0.8,children:[/*#__PURE__*/_jsx(Icon,{as:FiTrendingUp,boxSize:3}),/*#__PURE__*/_jsx(Text,{children:\"Enhanced Intelligence\"})]})]})]})]}),/*#__PURE__*/_jsx(Box,{flex:\"1\",w:\"full\",bg:cardBg,border:\"1px\",borderColor:borderColor,borderRadius:\"lg\",p:4,overflowY:\"auto\",position:\"relative\",children:/*#__PURE__*/_jsxs(VStack,{spacing:4,align:\"stretch\",children:[messages.map(message=>/*#__PURE__*/_jsxs(Flex,{justify:message.isUser?'flex-end':'flex-start',align:\"flex-start\",children:[!message.isUser&&/*#__PURE__*/_jsx(Avatar,{size:\"sm\",bg:\"blue.500\",color:\"white\",icon:/*#__PURE__*/_jsx(FiCpu,{}),mr:3}),/*#__PURE__*/_jsxs(Box,{maxW:\"70%\",children:[/*#__PURE__*/_jsx(Box,{bg:message.isUser?userMessageBg:botMessageBg,color:message.isUser?'white':'inherit',px:4,py:3,borderRadius:\"lg\",borderBottomRightRadius:message.isUser?'sm':'lg',borderBottomLeftRadius:message.isUser?'lg':'sm',children:/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",whiteSpace:\"pre-wrap\",children:message.text})}),/*#__PURE__*/_jsx(Text,{fontSize:\"xs\",color:\"gray.500\",mt:1,textAlign:message.isUser?'right':'left',children:formatTimestamp(message.timestamp)})]}),message.isUser&&/*#__PURE__*/_jsx(Avatar,{size:\"sm\",bg:\"gray.500\",color:\"white\",icon:/*#__PURE__*/_jsx(FiUser,{}),ml:3})]},message.id)),isLoading&&/*#__PURE__*/_jsxs(Flex,{justify:\"flex-start\",align:\"center\",children:[/*#__PURE__*/_jsx(Avatar,{size:\"sm\",bg:\"blue.500\",color:\"white\",icon:/*#__PURE__*/_jsx(FiCpu,{}),mr:3}),/*#__PURE__*/_jsx(Box,{bg:botMessageBg,px:4,py:3,borderRadius:\"lg\",borderBottomLeftRadius:\"sm\",children:/*#__PURE__*/_jsxs(HStack,{spacing:2,children:[/*#__PURE__*/_jsx(Spinner,{size:\"sm\"}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",children:\"Analyzing...\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]})}),error&&/*#__PURE__*/_jsxs(Alert,{status:\"error\",borderRadius:\"lg\",children:[/*#__PURE__*/_jsx(AlertIcon,{}),error]}),/*#__PURE__*/_jsxs(HStack,{w:\"full\",spacing:4,children:[/*#__PURE__*/_jsx(Input,{value:inputValue,onChange:e=>setInputValue(e.target.value),onKeyPress:handleKeyPress,placeholder:\"Ask about upcoming matches, team statistics, betting insights...\",bg:inputBg,border:\"1px\",borderColor:borderColor,_focus:{borderColor:'blue.500',boxShadow:'0 0 0 1px blue.500'},size:\"lg\",disabled:isLoading}),/*#__PURE__*/_jsx(Button,{onClick:handleSendMessage,colorScheme:\"blue\",size:\"lg\",isLoading:isLoading,disabled:!inputValue.trim()||isLoading,leftIcon:/*#__PURE__*/_jsx(FiSend,{}),children:\"Send\"})]}),/*#__PURE__*/_jsxs(Box,{w:\"full\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:\"gray.500\",mb:2,children:\"Quick questions:\"}),/*#__PURE__*/_jsx(Flex,{wrap:\"wrap\",gap:2,children:[\"What are the best matches to bet on today?\",\"Show me Premier League statistics\",\"Analyze upcoming Champions League matches\",\"What teams have the highest expected goals?\"].map(suggestion=>/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"outline\",onClick:()=>setInputValue(suggestion),fontSize:\"xs\",disabled:isLoading,children:suggestion},suggestion))})]})]})})});};export default OddGeniusAI;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}