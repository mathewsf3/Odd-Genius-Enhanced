{"ast":null,"code":"import React from'react';import{Box,Flex,Text,Heading,Table,Thead,Tbody,Tr,Th,Td,Icon,Spinner,Center,Badge,Image,useColorModeValue,Tooltip,HStack,VStack}from'@chakra-ui/react';import{FiAlertCircle,FiRefreshCw,FiInfo}from'react-icons/fi';// Define props interface\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Define promotion/relegation zone colors\nconst zoneColors={'Promotion - Champions League (Group Stage)':'green.500','Promotion - Champions League (Qualification)':'green.400','Promotion - Europa League (Group Stage)':'blue.500','Promotion - Europa Conference League (Qualification)':'blue.400','Relegation - Championship':'red.500','Relegation':'red.500'};// Define zone descriptions for the legend\nconst zoneDescriptions={'Champions League':'Qualification for UEFA Champions League','Europa League':'Qualification for UEFA Europa League','Conference League':'Qualification for UEFA Conference League','Relegation':'Relegation to lower division'};const CustomLeagueTab=_ref=>{let{match,data,isLoading,onRefresh}=_ref;// Theme colors - ALL useColorModeValue hooks must be at the top level\nconst cardBg=useColorModeValue('white','gray.800');const tableBg=useColorModeValue('white','gray.800');const tableHeaderBg=useColorModeValue('gray.50','gray.700');const borderColor=useColorModeValue('gray.200','gray.700');const highlightBg=useColorModeValue('blue.50','blue.900');const textColor=useColorModeValue('gray.800','white');const mutedColor=useColorModeValue('gray.600','gray.400');const softShadow=useColorModeValue('0 2px 8px rgba(0, 0, 0, 0.1)','0 2px 8px rgba(0, 0, 0, 0.4)');const hoverBg=useColorModeValue('gray.50','gray.700');const legendBg=useColorModeValue('gray.50','gray.700');// Position-based colors - moved to top level to fix React Hooks violation\nconst championsLeagueBg=useColorModeValue('green.50','green.900');const europaLeagueBg=useColorModeValue('blue.50','blue.900');const relegationBg=useColorModeValue('red.50','red.900');const homeTeamComparisonBg=useColorModeValue('blue.50','blue.900');const awayTeamComparisonBg=useColorModeValue('red.50','red.900');const matchOverviewBg=useColorModeValue('gray.50','gray.700');const teamContextHomeBg=useColorModeValue('blue.50','blue.900');const teamContextAwayBg=useColorModeValue('red.50','red.900');const matchSignificanceBg=useColorModeValue('purple.50','purple.900');const matchSignificanceColor=useColorModeValue('purple.700','purple.200');const championsLeagueZoneBg=useColorModeValue('green.50','green.900');const europaLeagueZoneBg=useColorModeValue('blue.50','blue.900');const relegationZoneBg=useColorModeValue('red.50','red.900');const zoneTextColor=useColorModeValue('gray.200','gray.600');const leagueHeaderBg=useColorModeValue('blue.600','blue.800');// Extract team IDs from match data\nconst homeTeamId=typeof match.homeTeam.id==='string'?match.homeTeam.id.replace('team-',''):String(match.homeTeam.id);const awayTeamId=typeof match.awayTeam.id==='string'?match.awayTeam.id.replace('team-',''):String(match.awayTeam.id);// Function to determine row background color based on team and position\nconst getRowBgColor=standing=>{// Highlight match teams\nif(standing.team.id===homeTeamId||standing.team.id===awayTeamId){return highlightBg;}// Color code by position using pre-defined colors\nconst position=standing.position;const totalTeams=(data===null||data===void 0?void 0:data.standings.length)||20;if(position<=4){return championsLeagueBg;}else if(position<=6){return europaLeagueBg;}else if(position>=totalTeams-3){return relegationBg;}return'transparent';};// Function to determine position badge color based on standing position\nconst getPositionBadgeColor=(position,placeType)=>{if(placeType&&zoneColors[placeType]){return zoneColors[placeType];}const totalTeams=(data===null||data===void 0?void 0:data.standings.length)||20;if(position<=4)return'green';if(position<=6)return'blue';if(position>=totalTeams-3)return'red';return'gray';};// Function to render team logo with dynamic API-based logos\nconst renderTeamLogo=function(team){let size=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"32px\";// Use the logo from the API data if available, otherwise fallback to UI avatars\nconst logoUrl=team.logo&&team.logo.startsWith('http')?team.logo:`https://ui-avatars.com/api/?name=${encodeURIComponent(team.name.substring(0,2))}&background=252535&color=6366F1&bold=true&size=128`;return/*#__PURE__*/_jsx(Image,{src:logoUrl,alt:team.name,boxSize:size,objectFit:\"contain\",fallbackSrc:`https://ui-avatars.com/api/?name=${encodeURIComponent(team.name.substring(0,2))}&background=252535&color=6366F1&bold=true&size=128`,mr:3,borderRadius:\"full\",border:\"1px solid\",borderColor:borderColor,p:1,backgroundColor:\"white\",onError:e=>{console.log(`[TeamLogo][ERROR] Logo load error for ${team.name}, falling back to avatar:`,e);}});};// Function to render league logo with dynamic API-based logos\nconst renderLeagueLogo=function(){let size=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"40px\";const league=(data===null||data===void 0?void 0:data.league)||match.league;// Use the logo from the API data if available, otherwise fallback to UI avatars\nconst logoUrl=league.logo&&league.logo.startsWith('http')?league.logo:`https://ui-avatars.com/api/?name=${encodeURIComponent(league.name.substring(0,2))}&background=252535&color=6366F1&bold=true&size=128`;return/*#__PURE__*/_jsx(Image,{src:logoUrl,alt:league.name,boxSize:size,objectFit:\"contain\",fallbackSrc:`https://ui-avatars.com/api/?name=${encodeURIComponent(league.name.substring(0,2))}&background=252535&color=6366F1&bold=true&size=128`,borderRadius:\"full\",border:\"2px solid\",borderColor:\"white\",p:1,backgroundColor:\"white\",boxShadow:\"0 0 10px rgba(0,0,0,0.1)\",onError:e=>{console.log(`[LeagueTab][ERROR] Logo load error for ${league.name}, falling back to avatar:`,e);}});};// Function to highlight current match teams\nconst highlightTeam=teamId=>{// Convert all IDs to strings for comparison\nconst teamIdStr=String(teamId);const homeIdStr=String(homeTeamId);const awayIdStr=String(awayTeamId);return teamIdStr===homeIdStr||teamIdStr===awayIdStr;};// Function to render loading state\nconst renderLoading=()=>/*#__PURE__*/_jsx(Center,{py:10,children:/*#__PURE__*/_jsxs(VStack,{spacing:4,children:[/*#__PURE__*/_jsx(Spinner,{size:\"xl\",color:\"blue.500\",thickness:\"4px\",speed:\"0.65s\"}),/*#__PURE__*/_jsx(Text,{color:mutedColor,children:\"Loading league standings...\"})]})});// Function to render error state\nconst renderError=()=>/*#__PURE__*/_jsx(Center,{py:10,children:/*#__PURE__*/_jsxs(VStack,{spacing:4,children:[/*#__PURE__*/_jsx(Icon,{as:FiAlertCircle,boxSize:10,color:\"red.500\"}),/*#__PURE__*/_jsx(Text,{color:mutedColor,children:\"Unable to load league standings data.\"}),onRefresh&&/*#__PURE__*/_jsxs(Flex,{align:\"center\",cursor:\"pointer\",color:\"blue.500\",onClick:onRefresh,_hover:{textDecoration:'underline'},children:[/*#__PURE__*/_jsx(Icon,{as:FiRefreshCw,mr:2}),/*#__PURE__*/_jsx(Text,{children:\"Refresh\"})]})]})});// Function to render no data message for competitions without standings\nconst renderNoStandingsMessage=()=>/*#__PURE__*/_jsx(Center,{py:10,children:/*#__PURE__*/_jsxs(VStack,{spacing:4,children:[/*#__PURE__*/_jsx(Icon,{as:FiInfo,boxSize:10,color:\"blue.500\"}),/*#__PURE__*/_jsx(Text,{color:textColor,textAlign:\"center\",maxW:\"400px\",children:(data===null||data===void 0?void 0:data.message)||'This competition does not have traditional league standings.'}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:mutedColor,textAlign:\"center\",children:\"This may be a cup tournament, knockout competition, or final match.\"}),onRefresh&&/*#__PURE__*/_jsxs(Flex,{align:\"center\",cursor:\"pointer\",color:\"blue.500\",onClick:onRefresh,_hover:{textDecoration:'underline'},children:[/*#__PURE__*/_jsx(Icon,{as:FiRefreshCw,mr:2}),/*#__PURE__*/_jsx(Text,{children:\"Refresh\"})]})]})});// Function to render standings table\nconst renderStandingsTable=()=>{if(!data){return renderError();}// Handle case where there are no standings (cup competitions, etc.)\nif(!data.standings||data.standings.length===0){return renderNoStandingsMessage();}return/*#__PURE__*/_jsx(Box,{overflowX:\"auto\",borderRadius:\"md\",boxShadow:softShadow,border:\"1px solid\",borderColor:borderColor,children:/*#__PURE__*/_jsxs(Table,{variant:\"simple\",size:\"md\",bg:tableBg,children:[/*#__PURE__*/_jsx(Thead,{bg:tableHeaderBg,position:\"sticky\",top:0,zIndex:1,children:/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Th,{width:\"60px\",textAlign:\"center\",py:4,children:\"Pos\"}),/*#__PURE__*/_jsx(Th,{width:\"50%\",py:4,children:\"Team\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,py:4,children:\"P\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,py:4,children:\"W\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,py:4,children:\"D\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,py:4,children:\"L\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,py:4,children:\"GF\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,py:4,children:\"GA\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,py:4,children:\"GD\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,py:4,children:\"Pts\"})]})}),/*#__PURE__*/_jsx(Tbody,{children:data.standings.map(standing=>/*#__PURE__*/_jsxs(Tr,{bg:getRowBgColor(standing),fontWeight:highlightTeam(standing.team.id)?'bold':'normal',_hover:{bg:hoverBg},transition:\"background-color 0.2s\",children:[/*#__PURE__*/_jsx(Td,{textAlign:\"center\",children:/*#__PURE__*/_jsx(Badge,{colorScheme:getPositionBadgeColor(standing.position,null),borderRadius:\"full\",px:2,py:1,fontSize:\"sm\",fontWeight:\"bold\",children:standing.position})}),/*#__PURE__*/_jsx(Td,{children:/*#__PURE__*/_jsxs(Flex,{align:\"center\",children:[renderTeamLogo(standing.team,\"28px\"),/*#__PURE__*/_jsx(Text,{fontWeight:highlightTeam(standing.team.id)?'bold':'medium',color:highlightTeam(standing.team.id)?'blue.500':textColor,fontSize:\"md\",children:standing.team.name}),highlightTeam(standing.team.id)&&/*#__PURE__*/_jsx(Badge,{ml:2,colorScheme:String(standing.team.id)===String(homeTeamId)?\"blue\":\"red\",variant:\"subtle\",children:String(standing.team.id)===String(homeTeamId)?\"Home\":\"Away\"})]})}),/*#__PURE__*/_jsx(Td,{isNumeric:true,children:standing.played}),/*#__PURE__*/_jsx(Td,{isNumeric:true,children:standing.won}),/*#__PURE__*/_jsx(Td,{isNumeric:true,children:standing.drawn}),/*#__PURE__*/_jsx(Td,{isNumeric:true,children:standing.lost}),/*#__PURE__*/_jsx(Td,{isNumeric:true,children:standing.goalsFor}),/*#__PURE__*/_jsx(Td,{isNumeric:true,children:standing.goalsAgainst}),/*#__PURE__*/_jsx(Td,{isNumeric:true,children:standing.goalDifference}),/*#__PURE__*/_jsx(Td,{isNumeric:true,fontWeight:\"bold\",children:standing.points})]},standing.team.id))})]})});};// Function to render match teams comparison\nconst renderTeamsComparison=()=>{if(!data||!data.standings||data.standings.length===0){return null;}const homeTeamStanding=data.standings.find(s=>s.team.id===homeTeamId);const awayTeamStanding=data.standings.find(s=>s.team.id===awayTeamId);if(!homeTeamStanding||!awayTeamStanding){return null;}// Calculate position difference\nconst positionDiff=homeTeamStanding.position-awayTeamStanding.position;const pointsDiff=homeTeamStanding.points-awayTeamStanding.points;return/*#__PURE__*/_jsxs(Box,{mt:6,p:5,bg:cardBg,borderRadius:\"lg\",boxShadow:softShadow,border:\"1px solid\",borderColor:borderColor,children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",mb:4,pb:2,borderBottom:\"1px solid\",borderColor:borderColor,children:\"Teams League Comparison\"}),/*#__PURE__*/_jsxs(Flex,{direction:{base:'column',md:'row'},justify:\"space-between\",gap:4,children:[/*#__PURE__*/_jsxs(Box,{flex:\"1\",p:4,borderRadius:\"md\",bg:homeTeamComparisonBg,boxShadow:\"md\",children:[/*#__PURE__*/_jsxs(Flex,{align:\"center\",mb:4,children:[renderTeamLogo(match.homeTeam,\"40px\"),/*#__PURE__*/_jsx(Text,{fontWeight:\"bold\",fontSize:\"lg\",children:match.homeTeam.name})]}),/*#__PURE__*/_jsxs(HStack,{spacing:4,mb:2,children:[/*#__PURE__*/_jsxs(Flex,{direction:\"column\",align:\"center\",p:2,bg:cardBg,borderRadius:\"md\",minW:\"80px\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"xs\",color:mutedColor,children:\"Position\"}),/*#__PURE__*/_jsx(Badge,{colorScheme:\"blue\",fontSize:\"md\",px:2,py:1,children:homeTeamStanding.position})]}),/*#__PURE__*/_jsxs(Flex,{direction:\"column\",align:\"center\",p:2,bg:cardBg,borderRadius:\"md\",minW:\"80px\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"xs\",color:mutedColor,children:\"Points\"}),/*#__PURE__*/_jsx(Text,{fontWeight:\"bold\",fontSize:\"lg\",children:homeTeamStanding.points})]})]}),/*#__PURE__*/_jsxs(HStack,{spacing:4,mb:2,children:[/*#__PURE__*/_jsxs(Flex,{direction:\"column\",align:\"center\",p:2,bg:cardBg,borderRadius:\"md\",minW:\"80px\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"xs\",color:mutedColor,children:\"W-D-L\"}),/*#__PURE__*/_jsxs(Text,{fontWeight:\"medium\",children:[homeTeamStanding.won,\"-\",homeTeamStanding.drawn,\"-\",homeTeamStanding.lost]})]}),/*#__PURE__*/_jsxs(Flex,{direction:\"column\",align:\"center\",p:2,bg:cardBg,borderRadius:\"md\",minW:\"80px\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"xs\",color:mutedColor,children:\"GF-GA\"}),/*#__PURE__*/_jsxs(Text,{fontWeight:\"medium\",children:[homeTeamStanding.goalsFor,\"-\",homeTeamStanding.goalsAgainst]})]})]})]}),/*#__PURE__*/_jsx(Center,{p:2,fontWeight:\"bold\",fontSize:\"xl\",children:/*#__PURE__*/_jsxs(Flex,{direction:\"column\",align:\"center\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:mutedColor,mb:1,children:\"Position Diff\"}),/*#__PURE__*/_jsx(Badge,{colorScheme:positionDiff<0?\"green\":positionDiff>0?\"red\":\"gray\",fontSize:\"md\",px:3,py:1,borderRadius:\"full\",children:positionDiff===0?\"Same\":positionDiff<0?`+${Math.abs(positionDiff)}`:`-${positionDiff}`}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:mutedColor,mt:4,mb:1,children:\"Points Diff\"}),/*#__PURE__*/_jsx(Badge,{colorScheme:pointsDiff>0?\"green\":pointsDiff<0?\"red\":\"gray\",fontSize:\"md\",px:3,py:1,borderRadius:\"full\",children:pointsDiff===0?\"Equal\":pointsDiff>0?`+${pointsDiff}`:`${pointsDiff}`})]})}),/*#__PURE__*/_jsxs(Box,{flex:\"1\",p:4,borderRadius:\"md\",bg:awayTeamComparisonBg,boxShadow:\"md\",children:[/*#__PURE__*/_jsxs(Flex,{align:\"center\",mb:4,children:[renderTeamLogo(match.awayTeam,\"40px\"),/*#__PURE__*/_jsx(Text,{fontWeight:\"bold\",fontSize:\"lg\",children:match.awayTeam.name})]}),/*#__PURE__*/_jsxs(HStack,{spacing:4,mb:2,children:[/*#__PURE__*/_jsxs(Flex,{direction:\"column\",align:\"center\",p:2,bg:cardBg,borderRadius:\"md\",minW:\"80px\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"xs\",color:mutedColor,children:\"Position\"}),/*#__PURE__*/_jsx(Badge,{colorScheme:\"red\",fontSize:\"md\",px:2,py:1,children:awayTeamStanding.position})]}),/*#__PURE__*/_jsxs(Flex,{direction:\"column\",align:\"center\",p:2,bg:cardBg,borderRadius:\"md\",minW:\"80px\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"xs\",color:mutedColor,children:\"Points\"}),/*#__PURE__*/_jsx(Text,{fontWeight:\"bold\",fontSize:\"lg\",children:awayTeamStanding.points})]})]}),/*#__PURE__*/_jsxs(HStack,{spacing:4,mb:2,children:[/*#__PURE__*/_jsxs(Flex,{direction:\"column\",align:\"center\",p:2,bg:cardBg,borderRadius:\"md\",minW:\"80px\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"xs\",color:mutedColor,children:\"W-D-L\"}),/*#__PURE__*/_jsxs(Text,{fontWeight:\"medium\",children:[awayTeamStanding.won,\"-\",awayTeamStanding.drawn,\"-\",awayTeamStanding.lost]})]}),/*#__PURE__*/_jsxs(Flex,{direction:\"column\",align:\"center\",p:2,bg:cardBg,borderRadius:\"md\",minW:\"80px\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"xs\",color:mutedColor,children:\"GF-GA\"}),/*#__PURE__*/_jsxs(Text,{fontWeight:\"medium\",children:[awayTeamStanding.goalsFor,\"-\",awayTeamStanding.goalsAgainst]})]})]})]})]})]});};// Function to render match overview\nconst renderMatchOverview=()=>{var _data$league;if(!data||!data.standings||data.standings.length===0){return null;}const homeTeamStanding=data.standings.find(s=>s.team.id===homeTeamId);const awayTeamStanding=data.standings.find(s=>s.team.id===awayTeamId);if(!homeTeamStanding||!awayTeamStanding){return null;}return/*#__PURE__*/_jsxs(Box,{mt:6,p:5,bg:cardBg,borderRadius:\"lg\",boxShadow:softShadow,border:\"1px solid\",borderColor:borderColor,children:[/*#__PURE__*/_jsxs(Heading,{size:\"md\",mb:4,pb:2,borderBottom:\"1px solid\",borderColor:borderColor,children:[\"Match Overview: \",match.homeTeam.name,\" vs \",match.awayTeam.name]}),/*#__PURE__*/_jsxs(Flex,{direction:\"column\",gap:4,children:[/*#__PURE__*/_jsxs(Flex,{justify:\"space-between\",align:\"center\",bg:matchOverviewBg,p:4,borderRadius:\"md\",children:[/*#__PURE__*/_jsxs(Flex,{align:\"center\",flex:1,justify:\"center\",direction:\"column\",children:[renderTeamLogo(match.homeTeam,\"56px\"),/*#__PURE__*/_jsx(Text,{fontWeight:\"bold\",fontSize:\"lg\",mt:2,children:match.homeTeam.name})]}),/*#__PURE__*/_jsxs(Box,{textAlign:\"center\",px:4,children:[/*#__PURE__*/_jsxs(Text,{fontSize:\"sm\",color:mutedColor,mb:1,children:[match.date,\" \\u2022 \",match.time]}),/*#__PURE__*/_jsx(Text,{fontWeight:\"bold\",fontSize:\"xl\",children:\"VS\"}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:mutedColor,mt:1,children:match.venue||\"Stadio Olimpico\"})]}),/*#__PURE__*/_jsxs(Flex,{align:\"center\",flex:1,justify:\"center\",direction:\"column\",children:[renderTeamLogo(match.awayTeam,\"56px\"),/*#__PURE__*/_jsx(Text,{fontWeight:\"bold\",fontSize:\"lg\",mt:2,children:match.awayTeam.name})]})]}),/*#__PURE__*/_jsxs(Box,{p:4,bg:matchOverviewBg,borderRadius:\"md\",children:[/*#__PURE__*/_jsx(Heading,{size:\"sm\",mb:3,children:\"League Context\"}),/*#__PURE__*/_jsxs(Text,{mb:3,children:[\"This \",((_data$league=data.league)===null||_data$league===void 0?void 0:_data$league.name)||match.league.name,\" match features \",match.homeTeam.name,\"(currently \",homeTeamStanding.position,getOrdinalSuffix(homeTeamStanding.position),\" in the table) hosting \",match.awayTeam.name,\" (currently \",awayTeamStanding.position,getOrdinalSuffix(awayTeamStanding.position),\").\"]}),/*#__PURE__*/_jsxs(HStack,{spacing:4,wrap:\"wrap\",children:[/*#__PURE__*/_jsxs(Flex,{direction:\"column\",align:\"center\",p:2,bg:cardBg,borderRadius:\"md\",minW:\"120px\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"xs\",color:mutedColor,children:\"Points Gap\"}),/*#__PURE__*/_jsx(Text,{fontWeight:\"bold\",fontSize:\"lg\",children:Math.abs(homeTeamStanding.points-awayTeamStanding.points)})]}),/*#__PURE__*/_jsxs(Flex,{direction:\"column\",align:\"center\",p:2,bg:cardBg,borderRadius:\"md\",minW:\"120px\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"xs\",color:mutedColor,children:\"Position Gap\"}),/*#__PURE__*/_jsx(Text,{fontWeight:\"bold\",fontSize:\"lg\",children:Math.abs(homeTeamStanding.position-awayTeamStanding.position)})]}),/*#__PURE__*/_jsxs(Flex,{direction:\"column\",align:\"center\",p:2,bg:cardBg,borderRadius:\"md\",minW:\"120px\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"xs\",color:mutedColor,children:\"Goal Difference\"}),/*#__PURE__*/_jsxs(Text,{fontWeight:\"bold\",fontSize:\"lg\",children:[homeTeamStanding.goalDifference,\" / \",awayTeamStanding.goalDifference]})]})]})]})]})]});};// Helper function to get ordinal suffix\nconst getOrdinalSuffix=num=>{const j=num%10;const k=num%100;if(j===1&&k!==11){return num+\"st\";}if(j===2&&k!==12){return num+\"nd\";}if(j===3&&k!==13){return num+\"rd\";}return num+\"th\";};// Function to render league information\nconst renderLeagueInfo=()=>{var _data$league2;if(!data||!data.standings||data.standings.length===0){return null;}const homeTeamStanding=data.standings.find(s=>String(s.team.id)===String(homeTeamId));const awayTeamStanding=data.standings.find(s=>String(s.team.id)===String(awayTeamId));// Calculate team positions relative to qualification zones\nconst getTeamZoneStatus=position=>{if(position<=4)return\"Champions League qualification\";if(position<=6)return\"Europa League qualification\";if(position>=data.standings.length-2)return\"relegation zone\";return\"mid-table\";};// Get home team form description\nconst getHomeTeamContext=()=>{if(!homeTeamStanding)return\"\";const position=homeTeamStanding.position;const points=homeTeamStanding.points;const played=homeTeamStanding.played;const won=homeTeamStanding.won;const zoneStatus=getTeamZoneStatus(position);if(position<=4){return`${match.homeTeam.name} are currently in ${getOrdinalSuffix(position)} place, in ${zoneStatus}. They've won ${won} of their ${played} matches this season with a total of ${points} points.`;}else if(position<=6){return`${match.homeTeam.name} are fighting for European football in ${getOrdinalSuffix(position)} place. They're in ${zoneStatus} with ${points} points from ${played} games.`;}else if(position>=data.standings.length-2){return`${match.homeTeam.name} are battling relegation in ${getOrdinalSuffix(position)} place. They need to improve their form to escape the ${zoneStatus}. They currently have ${points} points.`;}else{return`${match.homeTeam.name} are in ${getOrdinalSuffix(position)} place with ${points} points. They're currently in the ${zoneStatus}.`;}};// Get away team form description\nconst getAwayTeamContext=()=>{if(!awayTeamStanding)return\"\";const position=awayTeamStanding.position;const points=awayTeamStanding.points;const played=awayTeamStanding.played;const goalDiff=awayTeamStanding.goalDifference;const zoneStatus=getTeamZoneStatus(position);if(position<=4){return`${match.awayTeam.name} are performing well in ${getOrdinalSuffix(position)} place, in ${zoneStatus}. They've accumulated ${points} points from ${played} matches so far.`;}else if(position<=6){return`${match.awayTeam.name} are in ${getOrdinalSuffix(position)} place, competing for ${zoneStatus}. They have ${points} points with a goal difference of ${goalDiff}.`;}else if(position>=data.standings.length-2){return`${match.awayTeam.name} are struggling in ${getOrdinalSuffix(position)} place with ${points} points. They're currently in the ${zoneStatus} and fighting to stay in the division.`;}else{return`${match.awayTeam.name} are mid-table in ${getOrdinalSuffix(position)} place with ${points} points from ${played} games.`;}};// Get match significance description\nconst getMatchSignificance=()=>{if(!homeTeamStanding||!awayTeamStanding)return\"\";const positionDiff=Math.abs(homeTeamStanding.position-awayTeamStanding.position);const pointsDiff=Math.abs(homeTeamStanding.points-awayTeamStanding.points);if(positionDiff<=3){return`This is a crucial match between closely ranked teams, separated by just ${positionDiff} ${positionDiff===1?'position':'positions'} and ${pointsDiff} points. The result could have significant implications for both teams' league ambitions.`;}else if(homeTeamStanding.position<=6&&awayTeamStanding.position<=6){return`This is an important clash between two teams competing for European qualification. Despite being separated by ${positionDiff} positions, both teams have European ambitions.`;}else if(homeTeamStanding.position>=data.standings.length-3&&awayTeamStanding.position>=data.standings.length-3){return`This is a vital relegation battle. Both teams are fighting to avoid the drop, and the result could be decisive in determining which team stays in the division.`;}else{return`With ${positionDiff} positions and ${pointsDiff} points separating these teams, ${homeTeamStanding.position<awayTeamStanding.position?match.homeTeam.name:match.awayTeam.name} will be favorites, but league form doesn't always predict match outcomes.`;}};return/*#__PURE__*/_jsxs(Box,{mt:6,p:5,bg:cardBg,borderRadius:\"lg\",boxShadow:softShadow,border:\"1px solid\",borderColor:borderColor,children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",mb:4,pb:2,borderBottom:\"1px solid\",borderColor:borderColor,children:\"League Context & Match Significance\"}),/*#__PURE__*/_jsxs(Text,{mb:4,fontSize:\"md\",color:textColor,children:[\"The table shows the current standings for \",((_data$league2=data.league)===null||_data$league2===void 0?void 0:_data$league2.name)||match.league.name,\". Teams are ranked by total points, with goal difference as the first tiebreaker.\"]}),homeTeamStanding&&awayTeamStanding&&/*#__PURE__*/_jsxs(Box,{mb:4,p:4,bg:matchOverviewBg,borderRadius:\"md\",border:\"1px solid\",borderColor:zoneTextColor,children:[/*#__PURE__*/_jsx(Heading,{size:\"sm\",mb:3,pb:2,borderBottom:\"1px solid\",borderColor:zoneTextColor,children:\"Match Context\"}),/*#__PURE__*/_jsxs(Flex,{mb:4,gap:4,flexDirection:{base:\"column\",md:\"row\"},children:[/*#__PURE__*/_jsxs(Box,{flex:\"1\",p:3,bg:teamContextHomeBg,borderRadius:\"md\",children:[/*#__PURE__*/_jsxs(Flex,{align:\"center\",mb:2,children:[renderTeamLogo(match.homeTeam,\"24px\"),/*#__PURE__*/_jsx(Text,{fontWeight:\"bold\",ml:2,fontSize:\"sm\",children:match.homeTeam.name})]}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",children:getHomeTeamContext()})]}),/*#__PURE__*/_jsxs(Box,{flex:\"1\",p:3,bg:teamContextAwayBg,borderRadius:\"md\",children:[/*#__PURE__*/_jsxs(Flex,{align:\"center\",mb:2,children:[renderTeamLogo(match.awayTeam,\"24px\"),/*#__PURE__*/_jsx(Text,{fontWeight:\"bold\",ml:2,fontSize:\"sm\",children:match.awayTeam.name})]}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",children:getAwayTeamContext()})]})]}),/*#__PURE__*/_jsx(Box,{p:3,bg:matchSignificanceBg,borderRadius:\"md\",children:/*#__PURE__*/_jsxs(Text,{fontSize:\"sm\",fontWeight:\"medium\",color:matchSignificanceColor,children:[/*#__PURE__*/_jsx(Icon,{as:FiInfo,mr:2}),getMatchSignificance()]})})]}),/*#__PURE__*/_jsx(Heading,{size:\"sm\",mb:3,children:\"Qualification & Relegation Zones\"}),/*#__PURE__*/_jsxs(Flex,{wrap:\"wrap\",gap:3,mb:4,children:[/*#__PURE__*/_jsxs(Flex,{align:\"center\",bg:championsLeagueZoneBg,p:2,borderRadius:\"md\",borderLeft:\"4px solid\",borderColor:\"green.500\",children:[/*#__PURE__*/_jsx(Badge,{colorScheme:\"green\",mr:2,children:\"1-4\"}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",children:\"Champions League\"}),homeTeamStanding&&homeTeamStanding.position<=4&&/*#__PURE__*/_jsx(Badge,{ml:2,colorScheme:\"blue\",variant:\"outline\",fontSize:\"xs\",children:match.homeTeam.name}),awayTeamStanding&&awayTeamStanding.position<=4&&/*#__PURE__*/_jsx(Badge,{ml:2,colorScheme:\"red\",variant:\"outline\",fontSize:\"xs\",children:match.awayTeam.name})]}),/*#__PURE__*/_jsxs(Flex,{align:\"center\",bg:europaLeagueZoneBg,p:2,borderRadius:\"md\",borderLeft:\"4px solid\",borderColor:\"blue.500\",children:[/*#__PURE__*/_jsx(Badge,{colorScheme:\"blue\",mr:2,children:\"5-6\"}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",children:\"Europa League\"}),homeTeamStanding&&homeTeamStanding.position>4&&homeTeamStanding.position<=6&&/*#__PURE__*/_jsx(Badge,{ml:2,colorScheme:\"blue\",variant:\"outline\",fontSize:\"xs\",children:match.homeTeam.name}),awayTeamStanding&&awayTeamStanding.position>4&&awayTeamStanding.position<=6&&/*#__PURE__*/_jsx(Badge,{ml:2,colorScheme:\"red\",variant:\"outline\",fontSize:\"xs\",children:match.awayTeam.name})]}),/*#__PURE__*/_jsxs(Flex,{align:\"center\",bg:relegationZoneBg,p:2,borderRadius:\"md\",borderLeft:\"4px solid\",borderColor:\"red.500\",children:[/*#__PURE__*/_jsxs(Badge,{colorScheme:\"red\",mr:2,children:[data.standings.length-2,\"-\",data.standings.length]}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",children:\"Relegation Zone\"}),homeTeamStanding&&homeTeamStanding.position>=data.standings.length-2&&/*#__PURE__*/_jsx(Badge,{ml:2,colorScheme:\"blue\",variant:\"outline\",fontSize:\"xs\",children:match.homeTeam.name}),awayTeamStanding&&awayTeamStanding.position>=data.standings.length-2&&/*#__PURE__*/_jsx(Badge,{ml:2,colorScheme:\"red\",variant:\"outline\",fontSize:\"xs\",children:match.awayTeam.name})]})]}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:mutedColor,children:\"* The exact number of teams qualifying for European competitions may vary based on domestic cup winners and additional qualifying spots.\"})]});};// Function to render H2H summary in league context\nconst renderH2HSummary=()=>{if(!data||!data.standings||data.standings.length===0){return null;}const homeTeamStanding=data.standings.find(s=>s.team.id===homeTeamId);const awayTeamStanding=data.standings.find(s=>s.team.id===awayTeamId);if(!homeTeamStanding||!awayTeamStanding){return null;}return/*#__PURE__*/_jsxs(Box,{mt:6,p:5,bg:cardBg,borderRadius:\"lg\",boxShadow:softShadow,border:\"1px solid\",borderColor:borderColor,children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",mb:4,pb:2,borderBottom:\"1px solid\",borderColor:borderColor,children:\"Head-to-Head League Summary\"}),/*#__PURE__*/_jsxs(Flex,{direction:\"column\",gap:4,children:[/*#__PURE__*/_jsxs(Text,{fontSize:\"md\",children:[\"This season, \",match.homeTeam.name,\" and \",match.awayTeam.name,\" are separated by\",' ',/*#__PURE__*/_jsx(\"strong\",{children:Math.abs(homeTeamStanding.position-awayTeamStanding.position)}),' ',\"positions and\",' ',/*#__PURE__*/_jsx(\"strong\",{children:Math.abs(homeTeamStanding.points-awayTeamStanding.points)}),' ',\"points in the league table.\"]}),/*#__PURE__*/_jsxs(Box,{p:4,bg:matchOverviewBg,borderRadius:\"md\",children:[/*#__PURE__*/_jsx(Heading,{size:\"sm\",mb:3,children:\"Key League Statistics\"}),/*#__PURE__*/_jsxs(Flex,{wrap:\"wrap\",gap:6,justify:\"space-between\",children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"bold\",color:\"blue.500\",children:match.homeTeam.name}),/*#__PURE__*/_jsxs(Text,{children:[\"Goals scored: \",homeTeamStanding.goalsFor,\" (\",(homeTeamStanding.goalsFor/homeTeamStanding.played).toFixed(1),\"/game)\"]}),/*#__PURE__*/_jsxs(Text,{children:[\"Goals conceded: \",homeTeamStanding.goalsAgainst,\" (\",(homeTeamStanding.goalsAgainst/homeTeamStanding.played).toFixed(1),\"/game)\"]}),/*#__PURE__*/_jsxs(Text,{children:[\"Win rate: \",(homeTeamStanding.won/homeTeamStanding.played*100).toFixed(0),\"%\"]})]}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"bold\",color:\"red.500\",children:match.awayTeam.name}),/*#__PURE__*/_jsxs(Text,{children:[\"Goals scored: \",awayTeamStanding.goalsFor,\" (\",(awayTeamStanding.goalsFor/awayTeamStanding.played).toFixed(1),\"/game)\"]}),/*#__PURE__*/_jsxs(Text,{children:[\"Goals conceded: \",awayTeamStanding.goalsAgainst,\" (\",(awayTeamStanding.goalsAgainst/awayTeamStanding.played).toFixed(1),\"/game)\"]}),/*#__PURE__*/_jsxs(Text,{children:[\"Win rate: \",(awayTeamStanding.won/awayTeamStanding.played*100).toFixed(0),\"%\"]})]})]})]})]})]});};// Function to render league header\nconst renderLeagueHeader=()=>{var _data$standings,_data$standings2,_data$league3;const league=(data===null||data===void 0?void 0:data.league)||match.league;const homeTeamStanding=data===null||data===void 0?void 0:(_data$standings=data.standings)===null||_data$standings===void 0?void 0:_data$standings.find(s=>String(s.team.id)===String(homeTeamId));const awayTeamStanding=data===null||data===void 0?void 0:(_data$standings2=data.standings)===null||_data$standings2===void 0?void 0:_data$standings2.find(s=>String(s.team.id)===String(awayTeamId));return/*#__PURE__*/_jsxs(Box,{p:5,bg:leagueHeaderBg,color:\"white\",borderRadius:\"lg\",boxShadow:softShadow,position:\"relative\",overflow:\"hidden\",children:[/*#__PURE__*/_jsx(Box,{position:\"absolute\",top:0,left:0,right:0,bottom:0,opacity:0.1,bgGradient:\"radial(circle at 20% 30%, white 0%, transparent 50%)\"}),/*#__PURE__*/_jsxs(Flex,{align:\"center\",position:\"relative\",zIndex:1,mb:4,children:[/*#__PURE__*/_jsx(Box,{bg:\"white\",borderRadius:\"full\",p:2,mr:4,boxShadow:\"0 4px 8px rgba(0,0,0,0.2)\",children:renderLeagueLogo(\"48px\")}),/*#__PURE__*/_jsxs(Box,{flex:\"1\",children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",fontWeight:\"bold\",mb:1,children:league.name}),/*#__PURE__*/_jsxs(Text,{fontSize:\"sm\",opacity:0.9,children:[league.country||\"League Standings\",\" \\u2022 \",(data===null||data===void 0?void 0:(_data$league3=data.league)===null||_data$league3===void 0?void 0:_data$league3.season)||\"Current Season\"]})]}),onRefresh&&/*#__PURE__*/_jsx(Tooltip,{label:\"Refresh data\",children:/*#__PURE__*/_jsx(Box,{as:\"button\",onClick:onRefresh,p:2,borderRadius:\"md\",_hover:{bg:'rgba(255,255,255,0.2)'},transition:\"all 0.2s\",children:/*#__PURE__*/_jsx(Icon,{as:FiRefreshCw,boxSize:5})})})]}),homeTeamStanding&&awayTeamStanding&&/*#__PURE__*/_jsxs(Box,{mt:2,p:3,bg:\"rgba(255,255,255,0.1)\",borderRadius:\"md\",position:\"relative\",zIndex:1,children:[/*#__PURE__*/_jsxs(Flex,{align:\"center\",justify:\"space-between\",mb:3,children:[/*#__PURE__*/_jsxs(Flex,{align:\"center\",flex:\"1\",children:[renderTeamLogo(match.homeTeam,\"36px\"),/*#__PURE__*/_jsxs(Box,{ml:2,children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"bold\",fontSize:\"md\",children:match.homeTeam.name}),/*#__PURE__*/_jsxs(Badge,{colorScheme:\"blue\",variant:\"solid\",fontSize:\"xs\",children:[getOrdinalSuffix(homeTeamStanding.position),\" place\"]})]})]}),/*#__PURE__*/_jsx(Box,{mx:4,children:/*#__PURE__*/_jsx(Text,{fontWeight:\"bold\",fontSize:\"md\",color:\"gray.500\",children:\"vs\"})}),/*#__PURE__*/_jsxs(Flex,{align:\"center\",flex:\"1\",justifyContent:\"flex-end\",children:[/*#__PURE__*/_jsxs(Box,{mr:2,textAlign:\"right\",children:[/*#__PURE__*/_jsx(Text,{fontWeight:\"bold\",fontSize:\"md\",children:match.awayTeam.name}),/*#__PURE__*/_jsxs(Badge,{colorScheme:\"red\",variant:\"solid\",fontSize:\"xs\",children:[getOrdinalSuffix(awayTeamStanding.position),\" place\"]})]}),renderTeamLogo(match.awayTeam,\"36px\")]})]}),/*#__PURE__*/_jsxs(Box,{p:3,bg:\"rgba(0,0,0,0.1)\",borderRadius:\"md\",mt:3,children:[/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:\"white\",fontWeight:\"medium\",mb:2,children:\"Match Preview\"}),/*#__PURE__*/_jsxs(Text,{fontSize:\"xs\",color:\"white\",opacity:0.9,children:[\"This \",league.name,\" clash features \",match.homeTeam.name,\" (\",homeTeamStanding.points,\" pts) hosting \",match.awayTeam.name,\" (\",awayTeamStanding.points,\" pts).\",Math.abs(homeTeamStanding.position-awayTeamStanding.position)<=3?` A crucial match with just ${Math.abs(homeTeamStanding.position-awayTeamStanding.position)} positions separating these teams in the table.`:` The teams are separated by ${Math.abs(homeTeamStanding.position-awayTeamStanding.position)} positions in the standings.`,Math.abs(homeTeamStanding.points-awayTeamStanding.points)<=6?` With only ${Math.abs(homeTeamStanding.points-awayTeamStanding.points)} points between them, this match could significantly impact their league positions.`:``]})]})]})]});};return/*#__PURE__*/_jsxs(Box,{children:[renderLeagueHeader(),!isLoading&&renderMatchOverview(),/*#__PURE__*/_jsxs(Box,{mt:6,p:5,bg:cardBg,borderRadius:\"lg\",boxShadow:softShadow,border:\"1px solid\",borderColor:borderColor,children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",mb:4,pb:2,borderBottom:\"1px solid\",borderColor:borderColor,children:\"League Standings\"}),isLoading?renderLoading():renderStandingsTable()]}),!isLoading&&renderTeamsComparison(),!isLoading&&renderLeagueInfo(),!isLoading&&renderH2HSummary()]});};export default CustomLeagueTab;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}